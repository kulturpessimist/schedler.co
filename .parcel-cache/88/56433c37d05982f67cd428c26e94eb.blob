{"mappings":"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","sources":["./node_modules/rough-notation/lib/rough-notation.esm.js","./node_modules/alpinejs/dist/alpine.js","./node_modules/impress.js/js/impress.js","./src/index.js"],"sourcesContent":["const t=\"http://www.w3.org/2000/svg\";class e{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function s(t,e,s,i,n){return{type:\"path\",ops:c(t,e,s,i,n)}}function i(t,e,i){const n=(t||[]).length;if(n>2){const s=[];for(let e=0;e<n-1;e++)s.push(...c(t[e][0],t[e][1],t[e+1][0],t[e+1][1],i));return e&&s.push(...c(t[n-1][0],t[n-1][1],t[0][0],t[0][1],i)),{type:\"path\",ops:s}}return 2===n?s(t[0][0],t[0][1],t[1][0],t[1][1],i):{type:\"path\",ops:[]}}function n(t,e,s,n,o){return function(t,e){return i(t,!0,e)}([[t,e],[t+s,e],[t+s,e+n],[t,e+n]],o)}function o(t,e,s,i,n){return function(t,e,s,i){const[n,o]=l(i.increment,t,e,i.rx,i.ry,1,i.increment*h(.1,h(.4,1,s),s),s);let r=f(n,null,s);if(!s.disableMultiStroke){const[n]=l(i.increment,t,e,i.rx,i.ry,1.5,0,s),o=f(n,null,s);r=r.concat(o)}return{estimatedPoints:o,opset:{type:\"path\",ops:r}}}(t,e,n,function(t,e,s){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),n=Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*i),o=2*Math.PI/n;let r=Math.abs(t/2),h=Math.abs(e/2);const c=1-s.curveFitting;return r+=a(r*c,s),h+=a(h*c,s),{increment:o,rx:r,ry:h}}(s,i,n)).opset}function r(t){return t.randomizer||(t.randomizer=new e(t.seed||0)),t.randomizer.next()}function h(t,e,s,i=1){return s.roughness*i*(r(s)*(e-t)+t)}function a(t,e,s=1){return h(-t,t,e,s)}function c(t,e,s,i,n,o=!1){const r=o?n.disableMultiStrokeFill:n.disableMultiStroke,h=u(t,e,s,i,n,!0,!1);if(r)return h;const a=u(t,e,s,i,n,!0,!0);return h.concat(a)}function u(t,e,s,i,n,o,h){const c=Math.pow(t-s,2)+Math.pow(e-i,2),u=Math.sqrt(c);let f=1;f=u<200?1:u>500?.4:-.0016668*u+1.233334;let l=n.maxRandomnessOffset||0;l*l*100>c&&(l=u/10);const g=l/2,d=.2+.2*r(n);let p=n.bowing*n.maxRandomnessOffset*(i-e)/200,_=n.bowing*n.maxRandomnessOffset*(t-s)/200;p=a(p,n,f),_=a(_,n,f);const m=[],w=()=>a(g,n,f),v=()=>a(l,n,f);return o&&(h?m.push({op:\"move\",data:[t+w(),e+w()]}):m.push({op:\"move\",data:[t+a(l,n,f),e+a(l,n,f)]})),h?m.push({op:\"bcurveTo\",data:[p+t+(s-t)*d+w(),_+e+(i-e)*d+w(),p+t+2*(s-t)*d+w(),_+e+2*(i-e)*d+w(),s+w(),i+w()]}):m.push({op:\"bcurveTo\",data:[p+t+(s-t)*d+v(),_+e+(i-e)*d+v(),p+t+2*(s-t)*d+v(),_+e+2*(i-e)*d+v(),s+v(),i+v()]}),m}function f(t,e,s){const i=t.length,n=[];if(i>3){const o=[],r=1-s.curveTightness;n.push({op:\"move\",data:[t[1][0],t[1][1]]});for(let e=1;e+2<i;e++){const s=t[e];o[0]=[s[0],s[1]],o[1]=[s[0]+(r*t[e+1][0]-r*t[e-1][0])/6,s[1]+(r*t[e+1][1]-r*t[e-1][1])/6],o[2]=[t[e+1][0]+(r*t[e][0]-r*t[e+2][0])/6,t[e+1][1]+(r*t[e][1]-r*t[e+2][1])/6],o[3]=[t[e+1][0],t[e+1][1]],n.push({op:\"bcurveTo\",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&2===e.length){const t=s.maxRandomnessOffset;n.push({op:\"lineTo\",data:[e[0]+a(t,s),e[1]+a(t,s)]})}}else 3===i?(n.push({op:\"move\",data:[t[1][0],t[1][1]]}),n.push({op:\"bcurveTo\",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&n.push(...c(t[0][0],t[0][1],t[1][0],t[1][1],s));return n}function l(t,e,s,i,n,o,r,h){const c=[],u=[],f=a(.5,h)-Math.PI/2;u.push([a(o,h)+e+.9*i*Math.cos(f-t),a(o,h)+s+.9*n*Math.sin(f-t)]);for(let r=f;r<2*Math.PI+f-.01;r+=t){const t=[a(o,h)+e+i*Math.cos(r),a(o,h)+s+n*Math.sin(r)];c.push(t),u.push(t)}return u.push([a(o,h)+e+i*Math.cos(f+2*Math.PI+.5*r),a(o,h)+s+n*Math.sin(f+2*Math.PI+.5*r)]),u.push([a(o,h)+e+.98*i*Math.cos(f+r),a(o,h)+s+.98*n*Math.sin(f+r)]),u.push([a(o,h)+e+.9*i*Math.cos(f+.5*r),a(o,h)+s+.9*n*Math.sin(f+.5*r)]),[u,c]}function g(t,e){return{maxRandomnessOffset:2,roughness:\"highlight\"===t?3:1.5,bowing:1,stroke:\"#000\",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:\"hachure\",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:\"double\"!==t,disableMultiStrokeFill:!1,seed:e}}function d(e,r,h,a,c,u){const f=[];let l=h.strokeWidth||2;const d=function(t){const e=t.padding;if(e||0===e){if(\"number\"==typeof e)return[e,e,e,e];if(Array.isArray(e)){const t=e;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]}(h),p=void 0===h.animate||!!h.animate,_=h.iterations||2,m=g(\"single\",u);switch(h.type){case\"underline\":{const t=r.y+r.h+d[2];for(let e=0;e<_;e++)e%2?f.push(s(r.x+r.w,t,r.x,t,m)):f.push(s(r.x,t,r.x+r.w,t,m));break}case\"strike-through\":{const t=r.y+r.h/2;for(let e=0;e<_;e++)e%2?f.push(s(r.x+r.w,t,r.x,t,m)):f.push(s(r.x,t,r.x+r.w,t,m));break}case\"box\":{const t=r.x-d[3],e=r.y-d[0],s=r.w+(d[1]+d[3]),i=r.h+(d[0]+d[2]);for(let o=0;o<_;o++)f.push(n(t,e,s,i,m));break}case\"bracket\":{const t=Array.isArray(h.brackets)?h.brackets:h.brackets?[h.brackets]:[\"right\"],e=r.x-2*d[3],s=r.x+r.w+2*d[1],n=r.y-2*d[0],o=r.y+r.h+2*d[2];for(const h of t){let t;switch(h){case\"bottom\":t=[[e,r.y+r.h],[e,o],[s,o],[s,r.y+r.h]];break;case\"top\":t=[[e,r.y],[e,n],[s,n],[s,r.y]];break;case\"left\":t=[[r.x,n],[e,n],[e,o],[r.x,o]];break;case\"right\":t=[[r.x+r.w,n],[s,n],[s,o],[r.x+r.w,o]]}t&&f.push(i(t,!1,m))}break}case\"crossed-off\":{const t=r.x,e=r.y,i=t+r.w,n=e+r.h;for(let o=0;o<_;o++)o%2?f.push(s(i,n,t,e,m)):f.push(s(t,e,i,n,m));for(let o=0;o<_;o++)o%2?f.push(s(t,n,i,e,m)):f.push(s(i,e,t,n,m));break}case\"circle\":{const t=g(\"double\",u),e=r.w+(d[1]+d[3]),s=r.h+(d[0]+d[2]),i=r.x-d[3]+e/2,n=r.y-d[0]+s/2,h=Math.floor(_/2),a=_-2*h;for(let r=0;r<h;r++)f.push(o(i,n,e,s,t));for(let t=0;t<a;t++)f.push(o(i,n,e,s,m));break}case\"highlight\":{const t=g(\"highlight\",u);l=.95*r.h;const e=r.y+r.h/2;for(let i=0;i<_;i++)i%2?f.push(s(r.x+r.w,e,r.x,e,t)):f.push(s(r.x,e,r.x+r.w,e,t));break}}if(f.length){const s=function(t){const e=[];for(const s of t){let t=\"\";for(const i of s.ops){const s=i.data;switch(i.op){case\"move\":t.trim()&&e.push(t.trim()),t=`M${s[0]} ${s[1]} `;break;case\"bcurveTo\":t+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case\"lineTo\":t+=`L${s[0]} ${s[1]} `}}t.trim()&&e.push(t.trim())}return e}(f),i=[],n=[];let o=0;const r=(t,e,s)=>t.setAttribute(e,s);for(const a of s){const s=document.createElementNS(t,\"path\");if(r(s,\"d\",a),r(s,\"fill\",\"none\"),r(s,\"stroke\",h.color||\"currentColor\"),r(s,\"stroke-width\",\"\"+l),p){const t=s.getTotalLength();i.push(t),o+=t}e.appendChild(s),n.push(s)}if(p){let t=0;for(let e=0;e<n.length;e++){const s=n[e],r=i[e],h=o?c*(r/o):0,u=a+t,f=s.style;f.strokeDashoffset=\"\"+r,f.strokeDasharray=\"\"+r,f.animation=`rough-notation-dash ${h}ms ease-out ${u}ms forwards`,t+=h}}}}class p{constructor(t,e){this._state=\"unattached\",this._resizing=!1,this._seed=Math.floor(Math.random()*2**31),this._lastSizes=[],this._animationDelay=0,this._resizeListener=()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,\"showing\"===this._state&&this.haveRectsChanged()&&this.show()},400))},this._e=t,this._config=JSON.parse(JSON.stringify(e)),this.attach()}get animate(){return this._config.animate}set animate(t){this._config.animate=t}get animationDuration(){return this._config.animationDuration}set animationDuration(t){this._config.animationDuration=t}get iterations(){return this._config.iterations}set iterations(t){this._config.iterations=t}get color(){return this._config.color}set color(t){this._config.color!==t&&(this._config.color=t,this.refresh())}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(t){this._config.strokeWidth!==t&&(this._config.strokeWidth=t,this.refresh())}get padding(){return this._config.padding}set padding(t){this._config.padding!==t&&(this._config.padding=t,this.refresh())}attach(){if(\"unattached\"===this._state&&this._e.parentElement){!function(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement(\"style\");t.textContent=\"@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }\",document.head.appendChild(t)}}();const e=this._svg=document.createElementNS(t,\"svg\");e.setAttribute(\"class\",\"rough-annotation\");const s=e.style;s.position=\"absolute\",s.top=\"0\",s.left=\"0\",s.overflow=\"visible\",s.pointerEvents=\"none\",s.width=\"100px\",s.height=\"100px\";const i=\"highlight\"===this._config.type;if(this._e.insertAdjacentElement(i?\"beforebegin\":\"afterend\",e),this._state=\"not-showing\",i){const t=window.getComputedStyle(this._e).position;(!t||\"static\"===t)&&(this._e.style.position=\"relative\")}this.attachListeners()}}detachListeners(){window.removeEventListener(\"resize\",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener(\"resize\",this._resizeListener,{passive:!0}),!this._ro&&\"ResizeObserver\"in window&&(this._ro=new window.ResizeObserver(t=>{for(const e of t)e.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const t=this.rects();if(t.length!==this._lastSizes.length)return!0;for(let e=0;e<t.length;e++)if(!this.isSameRect(t[e],this._lastSizes[e]))return!0}return!1}isSameRect(t,e){const s=(t,e)=>Math.round(t)===Math.round(e);return s(t.x,e.x)&&s(t.y,e.y)&&s(t.w,e.w)&&s(t.h,e.h)}isShowing(){return\"not-showing\"!==this._state}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}show(){switch(this._state){case\"unattached\":break;case\"showing\":this.hide(),this._svg&&this.render(this._svg,!0);break;case\"not-showing\":this.attach(),this._svg&&this.render(this._svg,!1)}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state=\"not-showing\"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state=\"unattached\",this.detachListeners()}render(t,e){let s=this._config;e&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const i=this.rects();let n=0;i.forEach(t=>n+=t.w);const o=s.animationDuration||800;let r=0;for(let e=0;e<i.length;e++){const h=o*(i[e].w/n);d(t,i[e],s,r+this._animationDelay,h,this._seed),r+=h}this._lastSizes=i,this._state=\"showing\"}rects(){const t=[];if(this._svg)if(this._config.multiline){const e=this._e.getClientRects();for(let s=0;s<e.length;s++)t.push(this.svgRect(this._svg,e[s]))}else t.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return t}svgRect(t,e){const s=t.getBoundingClientRect(),i=e;return{x:(i.x||i.left)-(s.x||s.left),y:(i.y||i.top)-(s.y||s.top),w:i.width,h:i.height}}}function _(t,e){return new p(t,e)}function m(t){let e=0;for(const s of t){const t=s;t._animationDelay=e;e+=0===t.animationDuration?0:t.animationDuration||800}const s=[...t];return{show(){for(const t of s)t.show()},hide(){for(const t of s)t.hide()}}}export{_ as annotate,m as annotationGroup};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Alpine = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  // Thanks @stimulus:\n  // https://github.com/stimulusjs/stimulus/blob/master/packages/%40stimulus/core/src/application.ts\n  function domReady() {\n    return new Promise(resolve => {\n      if (document.readyState == \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", resolve);\n      } else {\n        resolve();\n      }\n    });\n  }\n  function arrayUnique(array) {\n    return Array.from(new Set(array));\n  }\n  function isTesting() {\n    return navigator.userAgent.includes(\"Node.js\") || navigator.userAgent.includes(\"jsdom\");\n  }\n  function warnIfMalformedTemplate(el, directive) {\n    if (el.tagName.toLowerCase() !== 'template') {\n      console.warn(`Alpine: [${directive}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${directive}`);\n    } else if (el.content.childElementCount !== 1) {\n      console.warn(`Alpine: <template> tag with [${directive}] encountered with multiple element roots. Make sure <template> only has a single child node.`);\n    }\n  }\n  function kebabCase(subject) {\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase();\n  }\n  function camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase());\n  }\n  function walk(el, callback) {\n    if (callback(el) === false) return;\n    let node = el.firstElementChild;\n\n    while (node) {\n      walk(node, callback);\n      node = node.nextElementSibling;\n    }\n  }\n  function debounce(func, wait) {\n    var timeout;\n    return function () {\n      var context = this,\n          args = arguments;\n\n      var later = function later() {\n        timeout = null;\n        func.apply(context, args);\n      };\n\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n  function saferEval(expression, dataContext, additionalHelperVariables = {}) {\n    if (typeof expression === 'function') {\n      return expression.call(dataContext);\n    }\n\n    return new Function(['$data', ...Object.keys(additionalHelperVariables)], `var __alpine_result; with($data) { __alpine_result = ${expression} }; return __alpine_result`)(dataContext, ...Object.values(additionalHelperVariables));\n  }\n  function saferEvalNoReturn(expression, dataContext, additionalHelperVariables = {}) {\n    if (typeof expression === 'function') {\n      return Promise.resolve(expression.call(dataContext, additionalHelperVariables['$event']));\n    }\n\n    let AsyncFunction = Function;\n    /* MODERN-ONLY:START */\n\n    AsyncFunction = Object.getPrototypeOf(async function () {}).constructor;\n    /* MODERN-ONLY:END */\n    // For the cases when users pass only a function reference to the caller: `x-on:click=\"foo\"`\n    // Where \"foo\" is a function. Also, we'll pass the function the event instance when we call it.\n\n    if (Object.keys(dataContext).includes(expression)) {\n      let methodReference = new Function(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { return ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables));\n\n      if (typeof methodReference === 'function') {\n        return Promise.resolve(methodReference.call(dataContext, additionalHelperVariables['$event']));\n      } else {\n        return Promise.resolve();\n      }\n    }\n\n    return Promise.resolve(new AsyncFunction(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables)));\n  }\n  const xAttrRE = /^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\\b/;\n  function isXAttr(attr) {\n    const name = replaceAtAndColonWithStandardSyntax(attr.name);\n    return xAttrRE.test(name);\n  }\n  function getXAttrs(el, component, type) {\n    let directives = Array.from(el.attributes).filter(isXAttr).map(parseHtmlAttribute); // Get an object of directives from x-spread.\n\n    let spreadDirective = directives.filter(directive => directive.type === 'spread')[0];\n\n    if (spreadDirective) {\n      let spreadObject = saferEval(spreadDirective.expression, component.$data); // Add x-spread directives to the pile of existing directives.\n\n      directives = directives.concat(Object.entries(spreadObject).map(([name, value]) => parseHtmlAttribute({\n        name,\n        value\n      })));\n    }\n\n    if (type) return directives.filter(i => i.type === type);\n    return sortDirectives(directives);\n  }\n\n  function sortDirectives(directives) {\n    let directiveOrder = ['bind', 'model', 'show', 'catch-all'];\n    return directives.sort((a, b) => {\n      let typeA = directiveOrder.indexOf(a.type) === -1 ? 'catch-all' : a.type;\n      let typeB = directiveOrder.indexOf(b.type) === -1 ? 'catch-all' : b.type;\n      return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB);\n    });\n  }\n\n  function parseHtmlAttribute({\n    name,\n    value\n  }) {\n    const normalizedName = replaceAtAndColonWithStandardSyntax(name);\n    const typeMatch = normalizedName.match(xAttrRE);\n    const valueMatch = normalizedName.match(/:([a-zA-Z0-9\\-:]+)/);\n    const modifiers = normalizedName.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || [];\n    return {\n      type: typeMatch ? typeMatch[1] : null,\n      value: valueMatch ? valueMatch[1] : null,\n      modifiers: modifiers.map(i => i.replace('.', '')),\n      expression: value\n    };\n  }\n  function isBooleanAttr(attrName) {\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\n    // Array roughly ordered by estimated usage\n    const booleanAttributes = ['disabled', 'checked', 'required', 'readonly', 'hidden', 'open', 'selected', 'autofocus', 'itemscope', 'multiple', 'novalidate', 'allowfullscreen', 'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop', 'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer', 'nomodule'];\n    return booleanAttributes.includes(attrName);\n  }\n  function replaceAtAndColonWithStandardSyntax(name) {\n    if (name.startsWith('@')) {\n      return name.replace('@', 'x-on:');\n    } else if (name.startsWith(':')) {\n      return name.replace(':', 'x-bind:');\n    }\n\n    return name;\n  }\n  function convertClassStringToArray(classList, filterFn = Boolean) {\n    return classList.split(' ').filter(filterFn);\n  }\n  const TRANSITION_TYPE_IN = 'in';\n  const TRANSITION_TYPE_OUT = 'out';\n  function transitionIn(el, show, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return show();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_IN) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0]; // If this is triggered by a x-show.transition.\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers; // If x-show.transition.out, we'll skip the \"in\" transition.\n\n      if (modifiers.includes('out') && !modifiers.includes('in')) return show();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out'); // If x-show.transition.in...out... only use \"in\" related modifiers for this transition.\n\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index < modifiers.indexOf('out')) : modifiers;\n      transitionHelperIn(el, modifiers, show); // Otherwise, we can assume x-transition:enter.\n    } else if (attrs.some(attr => ['enter', 'enter-start', 'enter-end'].includes(attr.value))) {\n      transitionClassesIn(el, component, attrs, show);\n    } else {\n      // If neither, just show that damn thing.\n      show();\n    }\n  }\n  function transitionOut(el, hide, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return hide();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_OUT) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0];\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers;\n      if (modifiers.includes('in') && !modifiers.includes('out')) return hide();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out');\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index > modifiers.indexOf('out')) : modifiers;\n      transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hide);\n    } else if (attrs.some(attr => ['leave', 'leave-start', 'leave-end'].includes(attr.value))) {\n      transitionClassesOut(el, component, attrs, hide);\n    } else {\n      hide();\n    }\n  }\n  function transitionHelperIn(el, modifiers, showCallback) {\n    // Default values inspired by: https://material.io/design/motion/speed.html#duration\n    const styleValues = {\n      duration: modifierValue(modifiers, 'duration', 150),\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      },\n      second: {\n        opacity: 1,\n        scale: 100\n      }\n    };\n    transitionHelper(el, modifiers, showCallback, () => {}, styleValues, TRANSITION_TYPE_IN);\n  }\n  function transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hideCallback) {\n    // Make the \"out\" transition .5x slower than the \"in\". (Visually better)\n    // HOWEVER, if they explicitly set a duration for the \"out\" transition,\n    // use that.\n    const duration = settingBothSidesOfTransition ? modifierValue(modifiers, 'duration', 150) : modifierValue(modifiers, 'duration', 150) / 2;\n    const styleValues = {\n      duration: duration,\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 1,\n        scale: 100\n      },\n      second: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      }\n    };\n    transitionHelper(el, modifiers, () => {}, hideCallback, styleValues, TRANSITION_TYPE_OUT);\n  }\n\n  function modifierValue(modifiers, key, fallback) {\n    // If the modifier isn't present, use the default.\n    if (modifiers.indexOf(key) === -1) return fallback; // If it IS present, grab the value after it: x-show.transition.duration.500ms\n\n    const rawValue = modifiers[modifiers.indexOf(key) + 1];\n    if (!rawValue) return fallback;\n\n    if (key === 'scale') {\n      // Check if the very next value is NOT a number and return the fallback.\n      // If x-show.transition.scale, we'll use the default scale value.\n      // That is how a user opts out of the opacity transition.\n      if (!isNumeric(rawValue)) return fallback;\n    }\n\n    if (key === 'duration') {\n      // Support x-show.transition.duration.500ms && duration.500\n      let match = rawValue.match(/([0-9]+)ms/);\n      if (match) return match[1];\n    }\n\n    if (key === 'origin') {\n      // Support chaining origin directions: x-show.transition.top.right\n      if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\n        return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ');\n      }\n    }\n\n    return rawValue;\n  }\n\n  function transitionHelper(el, modifiers, hook1, hook2, styleValues, type) {\n    // clear the previous transition if exists to avoid caching the wrong styles\n    if (el.__x_transition) {\n      cancelAnimationFrame(el.__x_transition.nextFrame);\n      el.__x_transition.callback && el.__x_transition.callback();\n    } // If the user set these style values, we'll put them back when we're done with them.\n\n\n    const opacityCache = el.style.opacity;\n    const transformCache = el.style.transform;\n    const transformOriginCache = el.style.transformOrigin; // If no modifiers are present: x-show.transition, we'll default to both opacity and scale.\n\n    const noModifiers = !modifiers.includes('opacity') && !modifiers.includes('scale');\n    const transitionOpacity = noModifiers || modifiers.includes('opacity');\n    const transitionScale = noModifiers || modifiers.includes('scale'); // These are the explicit stages of a transition (same stages for in and for out).\n    // This way you can get a birds eye view of the hooks, and the differences\n    // between them.\n\n    const stages = {\n      start() {\n        if (transitionOpacity) el.style.opacity = styleValues.first.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.first.scale / 100})`;\n      },\n\n      during() {\n        if (transitionScale) el.style.transformOrigin = styleValues.origin;\n        el.style.transitionProperty = [transitionOpacity ? `opacity` : ``, transitionScale ? `transform` : ``].join(' ').trim();\n        el.style.transitionDuration = `${styleValues.duration / 1000}s`;\n        el.style.transitionTimingFunction = `cubic-bezier(0.4, 0.0, 0.2, 1)`;\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        if (transitionOpacity) el.style.opacity = styleValues.second.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.second.scale / 100})`;\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        if (transitionOpacity) el.style.opacity = opacityCache;\n        if (transitionScale) el.style.transform = transformCache;\n        if (transitionScale) el.style.transformOrigin = transformOriginCache;\n        el.style.transitionProperty = null;\n        el.style.transitionDuration = null;\n        el.style.transitionTimingFunction = null;\n      }\n\n    };\n    transition(el, stages, type);\n  }\n  function transitionClassesIn(el, component, directives, showCallback) {\n    let ensureStringExpression = expression => {\n      return typeof expression === 'function' ? component.evaluateReturnExpression(el, expression) : expression;\n    };\n\n    const enter = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter') || {\n      expression: ''\n    }).expression));\n    const enterStart = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-start') || {\n      expression: ''\n    }).expression));\n    const enterEnd = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-end') || {\n      expression: ''\n    }).expression));\n    transitionClasses(el, enter, enterStart, enterEnd, showCallback, () => {}, TRANSITION_TYPE_IN);\n  }\n  function transitionClassesOut(el, component, directives, hideCallback) {\n    const leave = convertClassStringToArray((directives.find(i => i.value === 'leave') || {\n      expression: ''\n    }).expression);\n    const leaveStart = convertClassStringToArray((directives.find(i => i.value === 'leave-start') || {\n      expression: ''\n    }).expression);\n    const leaveEnd = convertClassStringToArray((directives.find(i => i.value === 'leave-end') || {\n      expression: ''\n    }).expression);\n    transitionClasses(el, leave, leaveStart, leaveEnd, () => {}, hideCallback, TRANSITION_TYPE_OUT);\n  }\n  function transitionClasses(el, classesDuring, classesStart, classesEnd, hook1, hook2, type) {\n    // clear the previous transition if exists to avoid caching the wrong classes\n    if (el.__x_transition) {\n      cancelAnimationFrame(el.__x_transition.nextFrame);\n      el.__x_transition.callback && el.__x_transition.callback();\n    }\n\n    const originalClasses = el.__x_original_classes || [];\n    const stages = {\n      start() {\n        el.classList.add(...classesStart);\n      },\n\n      during() {\n        el.classList.add(...classesDuring);\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        // Don't remove classes that were in the original class attribute.\n        el.classList.remove(...classesStart.filter(i => !originalClasses.includes(i)));\n        el.classList.add(...classesEnd);\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        el.classList.remove(...classesDuring.filter(i => !originalClasses.includes(i)));\n        el.classList.remove(...classesEnd.filter(i => !originalClasses.includes(i)));\n      }\n\n    };\n    transition(el, stages, type);\n  }\n  function transition(el, stages, type) {\n    el.__x_transition = {\n      // Set transition type so we can avoid clearing transition if the direction is the same\n      type: type,\n      // create a callback for the last stages of the transition so we can call it\n      // from different point and early terminate it. Once will ensure that function\n      // is only called one time.\n      callback: once(() => {\n        stages.hide(); // Adding an \"isConnected\" check, in case the callback\n        // removed the element from the DOM.\n\n        if (el.isConnected) {\n          stages.cleanup();\n        }\n\n        delete el.__x_transition;\n      }),\n      // This store the next animation frame so we can cancel it\n      nextFrame: null\n    };\n    stages.start();\n    stages.during();\n    el.__x_transition.nextFrame = requestAnimationFrame(() => {\n      // Note: Safari's transitionDuration property will list out comma separated transition durations\n      // for every single transition property. Let's grab the first one and call it a day.\n      let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000;\n\n      if (duration === 0) {\n        duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000;\n      }\n\n      stages.show();\n      el.__x_transition.nextFrame = requestAnimationFrame(() => {\n        stages.end();\n        setTimeout(el.__x_transition.callback, duration);\n      });\n    });\n  }\n  function isNumeric(subject) {\n    return !isNaN(subject);\n  } // Thanks @vuejs\n  // https://github.com/vuejs/vue/blob/4de4649d9637262a9b007720b59f80ac72a5620c/src/shared/util.js\n\n  function once(callback) {\n    let called = false;\n    return function () {\n      if (!called) {\n        called = true;\n        callback.apply(this, arguments);\n      }\n    };\n  }\n\n  function handleForDirective(component, templateEl, expression, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(templateEl, 'x-for');\n    let iteratorNames = typeof expression === 'function' ? parseForExpression(component.evaluateReturnExpression(templateEl, expression)) : parseForExpression(expression);\n    let items = evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, templateEl, iteratorNames, extraVars); // As we walk the array, we'll also walk the DOM (updating/creating as we go).\n\n    let currentEl = templateEl;\n    items.forEach((item, index) => {\n      let iterationScopeVariables = getIterationScopeVariables(iteratorNames, item, index, items, extraVars());\n      let currentKey = generateKeyForIteration(component, templateEl, index, iterationScopeVariables);\n      let nextEl = lookAheadForMatchingKeyedElementAndMoveItIfFound(currentEl.nextElementSibling, currentKey); // If we haven't found a matching key, insert the element at the current position.\n\n      if (!nextEl) {\n        nextEl = addElementInLoopAfterCurrentEl(templateEl, currentEl); // And transition it in if it's not the first page load.\n\n        transitionIn(nextEl, () => {}, component, initialUpdate);\n        nextEl.__x_for = iterationScopeVariables;\n        component.initializeElements(nextEl, () => nextEl.__x_for); // Otherwise update the element we found.\n      } else {\n        // Temporarily remove the key indicator to allow the normal \"updateElements\" to work.\n        delete nextEl.__x_for_key;\n        nextEl.__x_for = iterationScopeVariables;\n        component.updateElements(nextEl, () => nextEl.__x_for);\n      }\n\n      currentEl = nextEl;\n      currentEl.__x_for_key = currentKey;\n    });\n    removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component);\n  } // This was taken from VueJS 2.* core. Thanks Vue!\n\n  function parseForExpression(expression) {\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/;\n    let stripParensRE = /^\\(|\\)$/g;\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/;\n    let inMatch = expression.match(forAliasRE);\n    if (!inMatch) return;\n    let res = {};\n    res.items = inMatch[2].trim();\n    let item = inMatch[1].trim().replace(stripParensRE, '');\n    let iteratorMatch = item.match(forIteratorRE);\n\n    if (iteratorMatch) {\n      res.item = item.replace(forIteratorRE, '').trim();\n      res.index = iteratorMatch[1].trim();\n\n      if (iteratorMatch[2]) {\n        res.collection = iteratorMatch[2].trim();\n      }\n    } else {\n      res.item = item;\n    }\n\n    return res;\n  }\n\n  function getIterationScopeVariables(iteratorNames, item, index, items, extraVars) {\n    // We must create a new object, so each iteration has a new scope\n    let scopeVariables = extraVars ? _objectSpread2({}, extraVars) : {};\n    scopeVariables[iteratorNames.item] = item;\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index;\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items;\n    return scopeVariables;\n  }\n\n  function generateKeyForIteration(component, el, index, iterationScopeVariables) {\n    let bindKeyAttribute = getXAttrs(el, component, 'bind').filter(attr => attr.value === 'key')[0]; // If the dev hasn't specified a key, just return the index of the iteration.\n\n    if (!bindKeyAttribute) return index;\n    return component.evaluateReturnExpression(el, bindKeyAttribute.expression, () => iterationScopeVariables);\n  }\n\n  function evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, el, iteratorNames, extraVars) {\n    let ifAttribute = getXAttrs(el, component, 'if')[0];\n\n    if (ifAttribute && !component.evaluateReturnExpression(el, ifAttribute.expression)) {\n      return [];\n    }\n\n    return component.evaluateReturnExpression(el, iteratorNames.items, extraVars);\n  }\n\n  function addElementInLoopAfterCurrentEl(templateEl, currentEl) {\n    let clone = document.importNode(templateEl.content, true);\n    currentEl.parentElement.insertBefore(clone, currentEl.nextElementSibling);\n    return currentEl.nextElementSibling;\n  }\n\n  function lookAheadForMatchingKeyedElementAndMoveItIfFound(nextEl, currentKey) {\n    if (!nextEl) return; // If the the key's DO match, no need to look ahead.\n\n    if (nextEl.__x_for_key === currentKey) return nextEl; // If they don't, we'll look ahead for a match.\n    // If we find it, we'll move it to the current position in the loop.\n\n    let tmpNextEl = nextEl;\n\n    while (tmpNextEl) {\n      if (tmpNextEl.__x_for_key === currentKey) {\n        return tmpNextEl.parentElement.insertBefore(tmpNextEl, nextEl);\n      }\n\n      tmpNextEl = tmpNextEl.nextElementSibling && tmpNextEl.nextElementSibling.__x_for_key !== undefined ? tmpNextEl.nextElementSibling : false;\n    }\n  }\n\n  function removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component) {\n    var nextElementFromOldLoop = currentEl.nextElementSibling && currentEl.nextElementSibling.__x_for_key !== undefined ? currentEl.nextElementSibling : false;\n\n    while (nextElementFromOldLoop) {\n      let nextElementFromOldLoopImmutable = nextElementFromOldLoop;\n      let nextSibling = nextElementFromOldLoop.nextElementSibling;\n      transitionOut(nextElementFromOldLoop, () => {\n        nextElementFromOldLoopImmutable.remove();\n      }, component);\n      nextElementFromOldLoop = nextSibling && nextSibling.__x_for_key !== undefined ? nextSibling : false;\n    }\n  }\n\n  function handleAttributeBindingDirective(component, el, attrName, expression, extraVars, attrType, modifiers) {\n    var value = component.evaluateReturnExpression(el, expression, extraVars);\n\n    if (attrName === 'value') {\n      if (Alpine.ignoreFocusedForValueBinding && document.activeElement.isSameNode(el)) return; // If nested model key is undefined, set the default value to empty string.\n\n      if (value === undefined && expression.match(/\\./)) {\n        value = '';\n      }\n\n      if (el.type === 'radio') {\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\n        // If there are any initial state values, radio will have a correct\n        // \"checked\" value since x-bind:value is processed before x-model.\n        if (el.attributes.value === undefined && attrType === 'bind') {\n          el.value = value;\n        } else if (attrType !== 'bind') {\n          el.checked = el.value == value;\n        }\n      } else if (el.type === 'checkbox') {\n        // If we are explicitly binding a string to the :value, set the string,\n        // If the value is a boolean, leave it alone, it will be set to \"on\"\n        // automatically.\n        if (typeof value === 'string' && attrType === 'bind') {\n          el.value = value;\n        } else if (attrType !== 'bind') {\n          if (Array.isArray(value)) {\n            // I'm purposely not using Array.includes here because it's\n            // strict, and because of Numeric/String mis-casting, I\n            // want the \"includes\" to be \"fuzzy\".\n            el.checked = value.some(val => val == el.value);\n          } else {\n            el.checked = !!value;\n          }\n        }\n      } else if (el.tagName === 'SELECT') {\n        updateSelect(el, value);\n      } else {\n        if (el.value === value) return;\n        el.value = value;\n      }\n    } else if (attrName === 'class') {\n      if (Array.isArray(value)) {\n        const originalClasses = el.__x_original_classes || [];\n        el.setAttribute('class', arrayUnique(originalClasses.concat(value)).join(' '));\n      } else if (typeof value === 'object') {\n        // Sorting the keys / class names by their boolean value will ensure that\n        // anything that evaluates to `false` and needs to remove classes is run first.\n        const keysSortedByBooleanValue = Object.keys(value).sort((a, b) => value[a] - value[b]);\n        keysSortedByBooleanValue.forEach(classNames => {\n          if (value[classNames]) {\n            convertClassStringToArray(classNames).forEach(className => el.classList.add(className));\n          } else {\n            convertClassStringToArray(classNames).forEach(className => el.classList.remove(className));\n          }\n        });\n      } else {\n        const originalClasses = el.__x_original_classes || [];\n        const newClasses = convertClassStringToArray(value);\n        el.setAttribute('class', arrayUnique(originalClasses.concat(newClasses)).join(' '));\n      }\n    } else {\n      attrName = modifiers.includes('camel') ? camelCase(attrName) : attrName; // If an attribute's bound value is null, undefined or false, remove the attribute\n\n      if ([null, undefined, false].includes(value)) {\n        el.removeAttribute(attrName);\n      } else {\n        isBooleanAttr(attrName) ? setIfChanged(el, attrName, attrName) : setIfChanged(el, attrName, value);\n      }\n    }\n  }\n\n  function setIfChanged(el, attrName, value) {\n    if (el.getAttribute(attrName) != value) {\n      el.setAttribute(attrName, value);\n    }\n  }\n\n  function updateSelect(el, value) {\n    const arrayWrappedValue = [].concat(value).map(value => {\n      return value + '';\n    });\n    Array.from(el.options).forEach(option => {\n      option.selected = arrayWrappedValue.includes(option.value || option.text);\n    });\n  }\n\n  function handleTextDirective(el, output, expression) {\n    // If nested model key is undefined, set the default value to empty string.\n    if (output === undefined && expression.match(/\\./)) {\n      output = '';\n    }\n\n    el.innerText = output;\n  }\n\n  function handleHtmlDirective(component, el, expression, extraVars) {\n    el.innerHTML = component.evaluateReturnExpression(el, expression, extraVars);\n  }\n\n  function handleShowDirective(component, el, value, modifiers, initialUpdate = false) {\n    const hide = () => {\n      el.style.display = 'none';\n    };\n\n    const show = () => {\n      if (el.style.length === 1 && el.style.display === 'none') {\n        el.removeAttribute('style');\n      } else {\n        el.style.removeProperty('display');\n      }\n    };\n\n    if (initialUpdate === true) {\n      if (value) {\n        show();\n      } else {\n        hide();\n      }\n\n      return;\n    }\n\n    const handle = resolve => {\n      if (value) {\n        if (el.style.display === 'none' || el.__x_transition) {\n          transitionIn(el, () => {\n            show();\n          }, component);\n        }\n\n        resolve(() => {});\n      } else {\n        if (el.style.display !== 'none') {\n          transitionOut(el, () => {\n            resolve(() => {\n              hide();\n            });\n          }, component);\n        } else {\n          resolve(() => {});\n        }\n      }\n    }; // The working of x-show is a bit complex because we need to\n    // wait for any child transitions to finish before hiding\n    // some element. Also, this has to be done recursively.\n    // If x-show.immediate, foregoe the waiting.\n\n\n    if (modifiers.includes('immediate')) {\n      handle(finish => finish());\n      return;\n    } // x-show is encountered during a DOM tree walk. If an element\n    // we encounter is NOT a child of another x-show element we\n    // can execute the previous x-show stack (if one exists).\n\n\n    if (component.showDirectiveLastElement && !component.showDirectiveLastElement.contains(el)) {\n      component.executeAndClearRemainingShowDirectiveStack();\n    }\n\n    component.showDirectiveStack.push(handle);\n    component.showDirectiveLastElement = el;\n  }\n\n  function handleIfDirective(component, el, expressionResult, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(el, 'x-if');\n    const elementHasAlreadyBeenAdded = el.nextElementSibling && el.nextElementSibling.__x_inserted_me === true;\n\n    if (expressionResult && (!elementHasAlreadyBeenAdded || el.__x_transition)) {\n      const clone = document.importNode(el.content, true);\n      el.parentElement.insertBefore(clone, el.nextElementSibling);\n      transitionIn(el.nextElementSibling, () => {}, component, initialUpdate);\n      component.initializeElements(el.nextElementSibling, extraVars);\n      el.nextElementSibling.__x_inserted_me = true;\n    } else if (!expressionResult && elementHasAlreadyBeenAdded) {\n      transitionOut(el.nextElementSibling, () => {\n        el.nextElementSibling.remove();\n      }, component, initialUpdate);\n    }\n  }\n\n  function registerListener(component, el, event, modifiers, expression, extraVars = {}) {\n    const options = {\n      passive: modifiers.includes('passive')\n    };\n\n    if (modifiers.includes('camel')) {\n      event = camelCase(event);\n    }\n\n    if (modifiers.includes('away')) {\n      let handler = e => {\n        // Don't do anything if the click came from the element or within it.\n        if (el.contains(e.target)) return; // Don't do anything if this element isn't currently visible.\n\n        if (el.offsetWidth < 1 && el.offsetHeight < 1) return; // Now that we are sure the element is visible, AND the click\n        // is from outside it, let's run the expression.\n\n        runListenerHandler(component, expression, e, extraVars);\n\n        if (modifiers.includes('once')) {\n          document.removeEventListener(event, handler, options);\n        }\n      }; // Listen for this event at the root level.\n\n\n      document.addEventListener(event, handler, options);\n    } else {\n      let listenerTarget = modifiers.includes('window') ? window : modifiers.includes('document') ? document : el;\n\n      let handler = e => {\n        // Remove this global event handler if the element that declared it\n        // has been removed. It's now stale.\n        if (listenerTarget === window || listenerTarget === document) {\n          if (!document.body.contains(el)) {\n            listenerTarget.removeEventListener(event, handler, options);\n            return;\n          }\n        }\n\n        if (isKeyEvent(event)) {\n          if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n            return;\n          }\n        }\n\n        if (modifiers.includes('prevent')) e.preventDefault();\n        if (modifiers.includes('stop')) e.stopPropagation(); // If the .self modifier isn't present, or if it is present and\n        // the target element matches the element we are registering the\n        // event on, run the handler\n\n        if (!modifiers.includes('self') || e.target === el) {\n          const returnValue = runListenerHandler(component, expression, e, extraVars);\n          returnValue.then(value => {\n            if (value === false) {\n              e.preventDefault();\n            } else {\n              if (modifiers.includes('once')) {\n                listenerTarget.removeEventListener(event, handler, options);\n              }\n            }\n          });\n        }\n      };\n\n      if (modifiers.includes('debounce')) {\n        let nextModifier = modifiers[modifiers.indexOf('debounce') + 1] || 'invalid-wait';\n        let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250;\n        handler = debounce(handler, wait);\n      }\n\n      listenerTarget.addEventListener(event, handler, options);\n    }\n  }\n\n  function runListenerHandler(component, expression, e, extraVars) {\n    return component.evaluateCommandExpression(e.target, expression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        '$event': e\n      });\n    });\n  }\n\n  function isKeyEvent(event) {\n    return ['keydown', 'keyup'].includes(event);\n  }\n\n  function isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n    let keyModifiers = modifiers.filter(i => {\n      return !['window', 'document', 'prevent', 'stop'].includes(i);\n    });\n\n    if (keyModifiers.includes('debounce')) {\n      let debounceIndex = keyModifiers.indexOf('debounce');\n      keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex + 1] || 'invalid-wait').split('ms')[0]) ? 2 : 1);\n    } // If no modifier is specified, we'll call it a press.\n\n\n    if (keyModifiers.length === 0) return false; // If one is passed, AND it matches the key pressed, we'll call it a press.\n\n    if (keyModifiers.length === 1 && keyModifiers[0] === keyToModifier(e.key)) return false; // The user is listening for key combinations.\n\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super'];\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier));\n    keyModifiers = keyModifiers.filter(i => !selectedSystemKeyModifiers.includes(i));\n\n    if (selectedSystemKeyModifiers.length > 0) {\n      const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\n        // Alias \"cmd\" and \"super\" to \"meta\"\n        if (modifier === 'cmd' || modifier === 'super') modifier = 'meta';\n        return e[`${modifier}Key`];\n      }); // If all the modifiers selected are pressed, ...\n\n      if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n        // AND the remaining key is pressed as well. It's a press.\n        if (keyModifiers[0] === keyToModifier(e.key)) return false;\n      }\n    } // We'll call it NOT a valid keypress.\n\n\n    return true;\n  }\n\n  function keyToModifier(key) {\n    switch (key) {\n      case '/':\n        return 'slash';\n\n      case ' ':\n      case 'Spacebar':\n        return 'space';\n\n      default:\n        return key && kebabCase(key);\n    }\n  }\n\n  function registerModelListener(component, el, modifiers, expression, extraVars) {\n    // If the element we are binding to is a select, a radio, or checkbox\n    // we'll listen for the change event instead of the \"input\" event.\n    var event = el.tagName.toLowerCase() === 'select' || ['checkbox', 'radio'].includes(el.type) || modifiers.includes('lazy') ? 'change' : 'input';\n    const listenerExpression = `${expression} = rightSideOfExpression($event, ${expression})`;\n    registerListener(component, el, event, modifiers, listenerExpression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        rightSideOfExpression: generateModelAssignmentFunction(el, modifiers, expression)\n      });\n    });\n  }\n\n  function generateModelAssignmentFunction(el, modifiers, expression) {\n    if (el.type === 'radio') {\n      // Radio buttons only work properly when they share a name attribute.\n      // People might assume we take care of that for them, because\n      // they already set a shared \"x-model\" attribute.\n      if (!el.hasAttribute('name')) el.setAttribute('name', expression);\n    }\n\n    return (event, currentValue) => {\n      // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\n      if (event instanceof CustomEvent && event.detail) {\n        return event.detail;\n      } else if (el.type === 'checkbox') {\n        // If the data we are binding to is an array, toggle its value inside the array.\n        if (Array.isArray(currentValue)) {\n          const newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value;\n          return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(i => i !== newValue);\n        } else {\n          return event.target.checked;\n        }\n      } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\n        return modifiers.includes('number') ? Array.from(event.target.selectedOptions).map(option => {\n          const rawValue = option.value || option.text;\n          return safeParseNumber(rawValue);\n        }) : Array.from(event.target.selectedOptions).map(option => {\n          return option.value || option.text;\n        });\n      } else {\n        const rawValue = event.target.value;\n        return modifiers.includes('number') ? safeParseNumber(rawValue) : modifiers.includes('trim') ? rawValue.trim() : rawValue;\n      }\n    };\n  }\n\n  function safeParseNumber(rawValue) {\n    const number = rawValue ? parseFloat(rawValue) : null;\n    return isNumeric(number) ? number : rawValue;\n  }\n\n  /**\n   * Copyright (C) 2017 salesforce.com, inc.\n   */\n  const { isArray } = Array;\n  const { getPrototypeOf, create: ObjectCreate, defineProperty: ObjectDefineProperty, defineProperties: ObjectDefineProperties, isExtensible, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols, preventExtensions, hasOwnProperty, } = Object;\n  const { push: ArrayPush, concat: ArrayConcat, map: ArrayMap, } = Array.prototype;\n  function isUndefined(obj) {\n      return obj === undefined;\n  }\n  function isFunction(obj) {\n      return typeof obj === 'function';\n  }\n  function isObject(obj) {\n      return typeof obj === 'object';\n  }\n  const proxyToValueMap = new WeakMap();\n  function registerProxy(proxy, value) {\n      proxyToValueMap.set(proxy, value);\n  }\n  const unwrap = (replicaOrAny) => proxyToValueMap.get(replicaOrAny) || replicaOrAny;\n\n  function wrapValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getProxy(value) : value;\n  }\n  /**\n   * Unwrap property descriptors will set value on original descriptor\n   * We only need to unwrap if value is specified\n   * @param descriptor external descrpitor provided to define new property on original value\n   */\n  function unwrapDescriptor(descriptor) {\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = unwrap(descriptor.value);\n      }\n      return descriptor;\n  }\n  function lockShadowTarget(membrane, shadowTarget, originalTarget) {\n      const targetKeys = ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      targetKeys.forEach((key) => {\n          let descriptor = getOwnPropertyDescriptor(originalTarget, key);\n          // We do not need to wrap the descriptor if configurable\n          // Because we can deal with wrapping it when user goes through\n          // Get own property descriptor. There is also a chance that this descriptor\n          // could change sometime in the future, so we can defer wrapping\n          // until we need to\n          if (!descriptor.configurable) {\n              descriptor = wrapDescriptor(membrane, descriptor, wrapValue);\n          }\n          ObjectDefineProperty(shadowTarget, key, descriptor);\n      });\n      preventExtensions(shadowTarget);\n  }\n  class ReactiveProxyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          const oldValue = originalTarget[key];\n          if (oldValue !== value) {\n              originalTarget[key] = value;\n              valueMutated(originalTarget, key);\n          }\n          else if (key === 'length' && isArray(originalTarget)) {\n              // fix for issue #236: push will add the new index, and by the time length\n              // is updated, the internal length is already equal to the new length value\n              // therefore, the oldValue is equal to the value. This is the forking logic\n              // to support this use case.\n              valueMutated(originalTarget, key);\n          }\n          return true;\n      }\n      deleteProperty(shadowTarget, key) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          delete originalTarget[key];\n          valueMutated(originalTarget, key);\n          return true;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      isExtensible(shadowTarget) {\n          const shadowIsExtensible = isExtensible(shadowTarget);\n          if (!shadowIsExtensible) {\n              return shadowIsExtensible;\n          }\n          const { originalTarget, membrane } = this;\n          const targetIsExtensible = isExtensible(originalTarget);\n          if (!targetIsExtensible) {\n              lockShadowTarget(membrane, shadowTarget, originalTarget);\n          }\n          return targetIsExtensible;\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getPrototypeOf(shadowTarget) {\n          const { originalTarget } = this;\n          return getPrototypeOf(originalTarget);\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = this.membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value, setter or getter (if available) cannot observe\n          // mutations, just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapValue);\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          const { originalTarget, membrane } = this;\n          lockShadowTarget(membrane, shadowTarget, originalTarget);\n          preventExtensions(originalTarget);\n          return true;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          const { originalTarget, membrane } = this;\n          const { valueMutated } = membrane;\n          const { configurable } = descriptor;\n          // We have to check for value in descriptor\n          // because Object.freeze(proxy) calls this method\n          // with only { configurable: false, writeable: false }\n          // Additionally, method will only be called with writeable:false\n          // if the descriptor has a value, as opposed to getter/setter\n          // So we can just check if writable is present and then see if\n          // value is present. This eliminates getter and setter descriptors\n          if (hasOwnProperty.call(descriptor, 'writable') && !hasOwnProperty.call(descriptor, 'value')) {\n              const originalDescriptor = getOwnPropertyDescriptor(originalTarget, key);\n              descriptor.value = originalDescriptor.value;\n          }\n          ObjectDefineProperty(originalTarget, key, unwrapDescriptor(descriptor));\n          if (configurable === false) {\n              ObjectDefineProperty(shadowTarget, key, wrapDescriptor(membrane, descriptor, wrapValue));\n          }\n          valueMutated(originalTarget, key);\n          return true;\n      }\n  }\n\n  function wrapReadOnlyValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getReadOnlyProxy(value) : value;\n  }\n  class ReadOnlyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { membrane, originalTarget } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getReadOnlyProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          return false;\n      }\n      deleteProperty(shadowTarget, key) {\n          return false;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value or getter (if available) cannot be observed,\n          // just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapReadOnlyValue);\n          if (hasOwnProperty.call(desc, 'set')) {\n              desc.set = undefined; // readOnly membrane does not allow setters\n          }\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          return false;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          return false;\n      }\n  }\n  function createShadowTarget(value) {\n      let shadowTarget = undefined;\n      if (isArray(value)) {\n          shadowTarget = [];\n      }\n      else if (isObject(value)) {\n          shadowTarget = {};\n      }\n      return shadowTarget;\n  }\n  const ObjectDotPrototype = Object.prototype;\n  function defaultValueIsObservable(value) {\n      // intentionally checking for null\n      if (value === null) {\n          return false;\n      }\n      // treat all non-object types, including undefined, as non-observable values\n      if (typeof value !== 'object') {\n          return false;\n      }\n      if (isArray(value)) {\n          return true;\n      }\n      const proto = getPrototypeOf(value);\n      return (proto === ObjectDotPrototype || proto === null || getPrototypeOf(proto) === null);\n  }\n  const defaultValueObserved = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueMutated = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueDistortion = (value) => value;\n  function wrapDescriptor(membrane, descriptor, getValue) {\n      const { set, get } = descriptor;\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = getValue(membrane, descriptor.value);\n      }\n      else {\n          if (!isUndefined(get)) {\n              descriptor.get = function () {\n                  // invoking the original getter with the original target\n                  return getValue(membrane, get.call(unwrap(this)));\n              };\n          }\n          if (!isUndefined(set)) {\n              descriptor.set = function (value) {\n                  // At this point we don't have a clear indication of whether\n                  // or not a valid mutation will occur, we don't have the key,\n                  // and we are not sure why and how they are invoking this setter.\n                  // Nevertheless we preserve the original semantics by invoking the\n                  // original setter with the original target and the unwrapped value\n                  set.call(unwrap(this), membrane.unwrapProxy(value));\n              };\n          }\n      }\n      return descriptor;\n  }\n  class ReactiveMembrane {\n      constructor(options) {\n          this.valueDistortion = defaultValueDistortion;\n          this.valueMutated = defaultValueMutated;\n          this.valueObserved = defaultValueObserved;\n          this.valueIsObservable = defaultValueIsObservable;\n          this.objectGraph = new WeakMap();\n          if (!isUndefined(options)) {\n              const { valueDistortion, valueMutated, valueObserved, valueIsObservable } = options;\n              this.valueDistortion = isFunction(valueDistortion) ? valueDistortion : defaultValueDistortion;\n              this.valueMutated = isFunction(valueMutated) ? valueMutated : defaultValueMutated;\n              this.valueObserved = isFunction(valueObserved) ? valueObserved : defaultValueObserved;\n              this.valueIsObservable = isFunction(valueIsObservable) ? valueIsObservable : defaultValueIsObservable;\n          }\n      }\n      getProxy(value) {\n          const unwrappedValue = unwrap(value);\n          const distorted = this.valueDistortion(unwrappedValue);\n          if (this.valueIsObservable(distorted)) {\n              const o = this.getReactiveState(unwrappedValue, distorted);\n              // when trying to extract the writable version of a readonly\n              // we return the readonly.\n              return o.readOnly === value ? value : o.reactive;\n          }\n          return distorted;\n      }\n      getReadOnlyProxy(value) {\n          value = unwrap(value);\n          const distorted = this.valueDistortion(value);\n          if (this.valueIsObservable(distorted)) {\n              return this.getReactiveState(value, distorted).readOnly;\n          }\n          return distorted;\n      }\n      unwrapProxy(p) {\n          return unwrap(p);\n      }\n      getReactiveState(value, distortedValue) {\n          const { objectGraph, } = this;\n          let reactiveState = objectGraph.get(distortedValue);\n          if (reactiveState) {\n              return reactiveState;\n          }\n          const membrane = this;\n          reactiveState = {\n              get reactive() {\n                  const reactiveHandler = new ReactiveProxyHandler(membrane, distortedValue);\n                  // caching the reactive proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), reactiveHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'reactive', { value: proxy });\n                  return proxy;\n              },\n              get readOnly() {\n                  const readOnlyHandler = new ReadOnlyHandler(membrane, distortedValue);\n                  // caching the readOnly proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), readOnlyHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'readOnly', { value: proxy });\n                  return proxy;\n              }\n          };\n          objectGraph.set(distortedValue, reactiveState);\n          return reactiveState;\n      }\n  }\n  /** version: 0.26.0 */\n\n  function wrap(data, mutationCallback) {\n\n    let membrane = new ReactiveMembrane({\n      valueMutated(target, key) {\n        mutationCallback(target, key);\n      }\n\n    });\n    return {\n      data: membrane.getProxy(data),\n      membrane: membrane\n    };\n  }\n  function unwrap$1(membrane, observable) {\n    let unwrappedData = membrane.unwrapProxy(observable);\n    let copy = {};\n    Object.keys(unwrappedData).forEach(key => {\n      if (['$el', '$refs', '$nextTick', '$watch'].includes(key)) return;\n      copy[key] = unwrappedData[key];\n    });\n    return copy;\n  }\n\n  class Component {\n    constructor(el, componentForClone = null) {\n      this.$el = el;\n      const dataAttr = this.$el.getAttribute('x-data');\n      const dataExpression = dataAttr === '' ? '{}' : dataAttr;\n      const initExpression = this.$el.getAttribute('x-init');\n      let dataExtras = {\n        $el: this.$el\n      };\n      let canonicalComponentElementReference = componentForClone ? componentForClone.$el : this.$el;\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(dataExtras, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference);\n          }\n        });\n      });\n      this.unobservedData = componentForClone ? componentForClone.getUnobservedData() : saferEval(dataExpression, dataExtras);\n      // Construct a Proxy-based observable. This will be used to handle reactivity.\n\n      let {\n        membrane,\n        data\n      } = this.wrapDataInObservable(this.unobservedData);\n      this.$data = data;\n      this.membrane = membrane; // After making user-supplied data methods reactive, we can now add\n      // our magic properties to the original data for access.\n\n      this.unobservedData.$el = this.$el;\n      this.unobservedData.$refs = this.getRefsProxy();\n      this.nextTickStack = [];\n\n      this.unobservedData.$nextTick = callback => {\n        this.nextTickStack.push(callback);\n      };\n\n      this.watchers = {};\n\n      this.unobservedData.$watch = (property, callback) => {\n        if (!this.watchers[property]) this.watchers[property] = [];\n        this.watchers[property].push(callback);\n      }; // Register custom magic properties.\n\n\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(this.unobservedData, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference);\n          }\n        });\n      });\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement;\n      componentForClone || Alpine.onBeforeComponentInitializeds.forEach(callback => callback(this));\n      var initReturnedCallback; // If x-init is present AND we aren't cloning (skip x-init on clone)\n\n      if (initExpression && !componentForClone) {\n        // We want to allow data manipulation, but not trigger DOM updates just yet.\n        // We haven't even initialized the elements with their Alpine bindings. I mean c'mon.\n        this.pauseReactivity = true;\n        initReturnedCallback = this.evaluateReturnExpression(this.$el, initExpression);\n        this.pauseReactivity = false;\n      } // Register all our listeners and set all our attribute bindings.\n\n\n      this.initializeElements(this.$el); // Use mutation observer to detect new elements being added within this component at run-time.\n      // Alpine's just so darn flexible amirite?\n\n      this.listenForNewElementsToInitialize();\n\n      if (typeof initReturnedCallback === 'function') {\n        // Run the callback returned from the \"x-init\" hook to allow the user to do stuff after\n        // Alpine's got it's grubby little paws all over everything.\n        initReturnedCallback.call(this.$data);\n      }\n\n      componentForClone || setTimeout(() => {\n        Alpine.onComponentInitializeds.forEach(callback => callback(this));\n      }, 0);\n    }\n\n    getUnobservedData() {\n      return unwrap$1(this.membrane, this.$data);\n    }\n\n    wrapDataInObservable(data) {\n      var self = this;\n      let updateDom = debounce(function () {\n        self.updateElements(self.$el);\n      }, 0);\n      return wrap(data, (target, key) => {\n        if (self.watchers[key]) {\n          // If there's a watcher for this specific key, run it.\n          self.watchers[key].forEach(callback => callback(target[key]));\n        } else {\n          // Let's walk through the watchers with \"dot-notation\" (foo.bar) and see\n          // if this mutation fits any of them.\n          Object.keys(self.watchers).filter(i => i.includes('.')).forEach(fullDotNotationKey => {\n            let dotNotationParts = fullDotNotationKey.split('.'); // If this dot-notation watcher's last \"part\" doesn't match the current\n            // key, then skip it early for performance reasons.\n\n            if (key !== dotNotationParts[dotNotationParts.length - 1]) return; // Now, walk through the dot-notation \"parts\" recursively to find\n            // a match, and call the watcher if one's found.\n\n            dotNotationParts.reduce((comparisonData, part) => {\n              if (Object.is(target, comparisonData)) {\n                // Run the watchers.\n                self.watchers[fullDotNotationKey].forEach(callback => callback(target[key]));\n              }\n\n              return comparisonData[part];\n            }, self.getUnobservedData());\n          });\n        } // Don't react to data changes for cases like the `x-created` hook.\n\n\n        if (self.pauseReactivity) return;\n        updateDom();\n      });\n    }\n\n    walkAndSkipNestedComponents(el, callback, initializeComponentCallback = () => {}) {\n      walk(el, el => {\n        // We've hit a component.\n        if (el.hasAttribute('x-data')) {\n          // If it's not the current one.\n          if (!el.isSameNode(this.$el)) {\n            // Initialize it if it's not.\n            if (!el.__x) initializeComponentCallback(el); // Now we'll let that sub-component deal with itself.\n\n            return false;\n          }\n        }\n\n        return callback(el);\n      });\n    }\n\n    initializeElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop\n        if (el.__x_for_key !== undefined) return false; // Don't touch spawns from if directives\n\n        if (el.__x_inserted_me !== undefined) return false;\n        this.initializeElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    initializeElement(el, extraVars) {\n      // To support class attribute merging, we have to know what the element's\n      // original class attribute looked like for reference.\n      if (el.hasAttribute('class') && getXAttrs(el, this).length > 0) {\n        el.__x_original_classes = convertClassStringToArray(el.getAttribute('class'));\n      }\n\n      this.registerListeners(el, extraVars);\n      this.resolveBoundAttributes(el, true, extraVars);\n    }\n\n    updateElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop (and check if the root is actually a for loop in a parent, don't skip it.)\n        if (el.__x_for_key !== undefined && !el.isSameNode(this.$el)) return false;\n        this.updateElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    executeAndClearNextTickStack(el) {\n      // Skip spawns from alpine directives\n      if (el === this.$el && this.nextTickStack.length > 0) {\n        // We run the tick stack after the next frame to allow any\n        // running transitions to pass the initial show stage.\n        requestAnimationFrame(() => {\n          while (this.nextTickStack.length > 0) {\n            this.nextTickStack.shift()();\n          }\n        });\n      }\n    }\n\n    executeAndClearRemainingShowDirectiveStack() {\n      // The goal here is to start all the x-show transitions\n      // and build a nested promise chain so that elements\n      // only hide when the children are finished hiding.\n      this.showDirectiveStack.reverse().map(thing => {\n        return new Promise(resolve => {\n          thing(finish => {\n            resolve(finish);\n          });\n        });\n      }).reduce((nestedPromise, promise) => {\n        return nestedPromise.then(() => {\n          return promise.then(finish => finish());\n        });\n      }, Promise.resolve(() => {})); // We've processed the handler stack. let's clear it.\n\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement = undefined;\n    }\n\n    updateElement(el, extraVars) {\n      this.resolveBoundAttributes(el, false, extraVars);\n    }\n\n    registerListeners(el, extraVars) {\n      getXAttrs(el, this).forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'on':\n            registerListener(this, el, value, modifiers, expression, extraVars);\n            break;\n\n          case 'model':\n            registerModelListener(this, el, modifiers, expression, extraVars);\n            break;\n        }\n      });\n    }\n\n    resolveBoundAttributes(el, initialUpdate = false, extraVars) {\n      let attrs = getXAttrs(el, this);\n      attrs.forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'model':\n            handleAttributeBindingDirective(this, el, 'value', expression, extraVars, type, modifiers);\n            break;\n\n          case 'bind':\n            // The :key binding on an x-for is special, ignore it.\n            if (el.tagName.toLowerCase() === 'template' && value === 'key') return;\n            handleAttributeBindingDirective(this, el, value, expression, extraVars, type, modifiers);\n            break;\n\n          case 'text':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleTextDirective(el, output, expression);\n            break;\n\n          case 'html':\n            handleHtmlDirective(this, el, expression, extraVars);\n            break;\n\n          case 'show':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleShowDirective(this, el, output, modifiers, initialUpdate);\n            break;\n\n          case 'if':\n            // If this element also has x-for on it, don't process x-if.\n            // We will let the \"x-for\" directive handle the \"if\"ing.\n            if (attrs.some(i => i.type === 'for')) return;\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleIfDirective(this, el, output, initialUpdate, extraVars);\n            break;\n\n          case 'for':\n            handleForDirective(this, el, expression, initialUpdate, extraVars);\n            break;\n\n          case 'cloak':\n            el.removeAttribute('x-cloak');\n            break;\n        }\n      });\n    }\n\n    evaluateReturnExpression(el, expression, extraVars = () => {}) {\n      return saferEval(expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    evaluateCommandExpression(el, expression, extraVars = () => {}) {\n      return saferEvalNoReturn(expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    getDispatchFunction(el) {\n      return (event, detail = {}) => {\n        el.dispatchEvent(new CustomEvent(event, {\n          detail,\n          bubbles: true\n        }));\n      };\n    }\n\n    listenForNewElementsToInitialize() {\n      const targetNode = this.$el;\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        for (let i = 0; i < mutations.length; i++) {\n          // Filter out mutations triggered from child components.\n          const closestParentComponent = mutations[i].target.closest('[x-data]');\n          if (!(closestParentComponent && closestParentComponent.isSameNode(this.$el))) continue;\n\n          if (mutations[i].type === 'attributes' && mutations[i].attributeName === 'x-data') {\n            const rawData = saferEval(mutations[i].target.getAttribute('x-data') || '{}', {\n              $el: this.$el\n            });\n            Object.keys(rawData).forEach(key => {\n              if (this.$data[key] !== rawData[key]) {\n                this.$data[key] = rawData[key];\n              }\n            });\n          }\n\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              if (node.nodeType !== 1 || node.__x_inserted_me) return;\n\n              if (node.matches('[x-data]') && !node.__x) {\n                node.__x = new Component(node);\n                return;\n              }\n\n              this.initializeElements(node);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    }\n\n    getRefsProxy() {\n      var self = this;\n      var refObj = {};\n      // One of the goals of this is to not hold elements in memory, but rather re-evaluate\n      // the DOM when the system needs something from it. This way, the framework is flexible and\n      // friendly to outside DOM changes from libraries like Vue/Livewire.\n      // For this reason, I'm using an \"on-demand\" proxy to fake a \"$refs\" object.\n\n      return new Proxy(refObj, {\n        get(object, property) {\n          if (property === '$isAlpineProxy') return true;\n          var ref; // We can't just query the DOM because it's hard to filter out refs in\n          // nested components.\n\n          self.walkAndSkipNestedComponents(self.$el, el => {\n            if (el.hasAttribute('x-ref') && el.getAttribute('x-ref') === property) {\n              ref = el;\n            }\n          });\n          return ref;\n        }\n\n      });\n    }\n\n  }\n\n  const Alpine = {\n    version: \"2.6.0\",\n    pauseMutationObserver: false,\n    magicProperties: {},\n    onComponentInitializeds: [],\n    onBeforeComponentInitializeds: [],\n    ignoreFocusedForValueBinding: false,\n    start: async function start() {\n      if (!isTesting()) {\n        await domReady();\n      }\n\n      this.discoverComponents(el => {\n        this.initializeComponent(el);\n      }); // It's easier and more performant to just support Turbolinks than listen\n      // to MutationObserver mutations at the document level.\n\n      document.addEventListener(\"turbolinks:load\", () => {\n        this.discoverUninitializedComponents(el => {\n          this.initializeComponent(el);\n        });\n      });\n      this.listenForNewUninitializedComponentsAtRunTime(el => {\n        this.initializeComponent(el);\n      });\n    },\n    discoverComponents: function discoverComponents(callback) {\n      const rootEls = document.querySelectorAll('[x-data]');\n      rootEls.forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    discoverUninitializedComponents: function discoverUninitializedComponents(callback, el = null) {\n      const rootEls = (el || document).querySelectorAll('[x-data]');\n      Array.from(rootEls).filter(el => el.__x === undefined).forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    listenForNewUninitializedComponentsAtRunTime: function listenForNewUninitializedComponentsAtRunTime(callback) {\n      const targetNode = document.querySelector('body');\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        if (this.pauseMutationObserver) return;\n\n        for (let i = 0; i < mutations.length; i++) {\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              // Discard non-element nodes (like line-breaks)\n              if (node.nodeType !== 1) return; // Discard any changes happening within an existing component.\n              // They will take care of themselves.\n\n              if (node.parentElement && node.parentElement.closest('[x-data]')) return;\n              this.discoverUninitializedComponents(el => {\n                this.initializeComponent(el);\n              }, node.parentElement);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    },\n    initializeComponent: function initializeComponent(el) {\n      if (!el.__x) {\n        // Wrap in a try/catch so that we don't prevent other components\n        // from initializing when one component contains an error.\n        try {\n          el.__x = new Component(el);\n        } catch (error) {\n          setTimeout(() => {\n            throw error;\n          }, 0);\n        }\n      }\n    },\n    clone: function clone(component, newEl) {\n      if (!newEl.__x) {\n        newEl.__x = new Component(newEl, component);\n      }\n    },\n    addMagicProperty: function addMagicProperty(name, callback) {\n      this.magicProperties[name] = callback;\n    },\n    onComponentInitialized: function onComponentInitialized(callback) {\n      this.onComponentInitializeds.push(callback);\n    },\n    onBeforeComponentInitialized: function onBeforeComponentInitialized(callback) {\n      this.onBeforeComponentInitializeds.push(callback);\n    }\n  };\n\n  if (!isTesting()) {\n    window.Alpine = Alpine;\n\n    if (window.deferLoadingAlpine) {\n      window.deferLoadingAlpine(function () {\n        window.Alpine.start();\n      });\n    } else {\n      window.Alpine.start();\n    }\n  }\n\n  return Alpine;\n\n})));\n","// This file was automatically generated from files in src/ directory.\n\n/*! Licensed under MIT License - http://github.com/impress/impress.js */\n/**\n * impress.js\n *\n * impress.js is a presentation tool based on the power of CSS3 transforms and transitions\n * in modern browsers and inspired by the idea behind prezi.com.\n *\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz), 2016-2020 Henrik Ingo (@henrikingo)\n *\n * Released under the MIT License.\n *\n * ------------------------------------------------\n *  author:  Bartek Szopka, Henrik Ingo\n *  version: 1.1.0\n *  url:     http://impress.js.org\n *  source:  http://github.com/impress/impress.js/\n */\n\n// You are one of those who like to know how things work inside?\n// Let me show you the cogs that make impress.js run...\n( function( document, window ) {\n    \"use strict\";\n    var lib;\n\n    // HELPER FUNCTIONS\n\n    // `pfx` is a function that takes a standard CSS property name as a parameter\n    // and returns it's prefixed version valid for current browser it runs in.\n    // The code is heavily inspired by Modernizr http://www.modernizr.com/\n    var pfx = ( function() {\n\n        var style = document.createElement( \"dummy\" ).style,\n            prefixes = \"Webkit Moz O ms Khtml\".split( \" \" ),\n            memory = {};\n\n        return function( prop ) {\n            if ( typeof memory[ prop ] === \"undefined\" ) {\n\n                var ucProp  = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n                    props   = ( prop + \" \" + prefixes.join( ucProp + \" \" ) + ucProp ).split( \" \" );\n\n                memory[ prop ] = null;\n                for ( var i in props ) {\n                    if ( style[ props[ i ] ] !== undefined ) {\n                        memory[ prop ] = props[ i ];\n                        break;\n                    }\n                }\n\n            }\n\n            return memory[ prop ];\n        };\n\n    } )();\n\n    var validateOrder = function( order, fallback ) {\n        var validChars = \"xyz\";\n        var returnStr = \"\";\n        if ( typeof order === \"string\" ) {\n            for ( var i in order.split( \"\" ) ) {\n                if ( validChars.indexOf( order[ i ] ) >= 0 ) {\n                    returnStr += order[ i ];\n\n                    // Each of x,y,z can be used only once.\n                    validChars = validChars.split( order[ i ] ).join( \"\" );\n                }\n            }\n        }\n        if ( returnStr ) {\n            return returnStr;\n        } else if ( fallback !== undefined ) {\n            return fallback;\n        } else {\n            return \"xyz\";\n        }\n    };\n\n    // `css` function applies the styles given in `props` object to the element\n    // given as `el`. It runs all property names through `pfx` function to make\n    // sure proper prefixed version of the property is used.\n    var css = function( el, props ) {\n        var key, pkey;\n        for ( key in props ) {\n            if ( props.hasOwnProperty( key ) ) {\n                pkey = pfx( key );\n                if ( pkey !== null ) {\n                    el.style[ pkey ] = props[ key ];\n                }\n            }\n        }\n        return el;\n    };\n\n    // `translate` builds a translate transform string for given data.\n    var translate = function( t ) {\n        return \" translate3d(\" + t.x + \"px,\" + t.y + \"px,\" + t.z + \"px) \";\n    };\n\n    // `rotate` builds a rotate transform string for given data.\n    // By default the rotations are in X Y Z order that can be reverted by passing `true`\n    // as second parameter.\n    var rotate = function( r, revert ) {\n        var order = r.order ? r.order : \"xyz\";\n        var css = \"\";\n        var axes = order.split( \"\" );\n        if ( revert ) {\n            axes = axes.reverse();\n        }\n\n        for ( var i = 0; i < axes.length; i++ ) {\n            css += \" rotate\" + axes[ i ].toUpperCase() + \"(\" + r[ axes[ i ] ] + \"deg)\";\n        }\n        return css;\n    };\n\n    // `scale` builds a scale transform string for given data.\n    var scale = function( s ) {\n        return \" scale(\" + s + \") \";\n    };\n\n    // `computeWindowScale` counts the scale factor between window size and size\n    // defined for the presentation in the config.\n    var computeWindowScale = function( config ) {\n        var hScale = window.innerHeight / config.height,\n            wScale = window.innerWidth / config.width,\n            scale = hScale > wScale ? wScale : hScale;\n\n        if ( config.maxScale && scale > config.maxScale ) {\n            scale = config.maxScale;\n        }\n\n        if ( config.minScale && scale < config.minScale ) {\n            scale = config.minScale;\n        }\n\n        return scale;\n    };\n\n    // CHECK SUPPORT\n    var body = document.body;\n    var impressSupported =\n\n                          // Browser should support CSS 3D transtorms\n                           ( pfx( \"perspective\" ) !== null ) &&\n\n                          // And `classList` and `dataset` APIs\n                           ( body.classList ) &&\n                           ( body.dataset );\n\n    if ( !impressSupported ) {\n\n        // We can't be sure that `classList` is supported\n        body.className += \" impress-not-supported \";\n    }\n\n    // GLOBALS AND DEFAULTS\n\n    // This is where the root elements of all impress.js instances will be kept.\n    // Yes, this means you can have more than one instance on a page, but I'm not\n    // sure if it makes any sense in practice ;)\n    var roots = {};\n\n    var preInitPlugins = [];\n    var preStepLeavePlugins = [];\n\n    // Some default config values.\n    var defaults = {\n        width: 1024,\n        height: 768,\n        maxScale: 1,\n        minScale: 0,\n\n        perspective: 1000,\n\n        transitionDuration: 1000\n    };\n\n    // It's just an empty function ... and a useless comment.\n    var empty = function() { return false; };\n\n    // IMPRESS.JS API\n\n    // And that's where interesting things will start to happen.\n    // It's the core `impress` function that returns the impress.js API\n    // for a presentation based on the element with given id (\"impress\"\n    // by default).\n    var impress = window.impress = function( rootId ) {\n\n        // If impress.js is not supported by the browser return a dummy API\n        // it may not be a perfect solution but we return early and avoid\n        // running code that may use features not implemented in the browser.\n        if ( !impressSupported ) {\n            return {\n                init: empty,\n                goto: empty,\n                prev: empty,\n                next: empty,\n                swipe: empty,\n                tear: empty,\n                lib: {}\n            };\n        }\n\n        rootId = rootId || \"impress\";\n\n        // If given root is already initialized just return the API\n        if ( roots[ \"impress-root-\" + rootId ] ) {\n            return roots[ \"impress-root-\" + rootId ];\n        }\n\n        // The gc library depends on being initialized before we do any changes to DOM.\n        lib = initLibraries( rootId );\n\n        body.classList.remove( \"impress-not-supported\" );\n        body.classList.add( \"impress-supported\" );\n\n        // Data of all presentation steps\n        var stepsData = {};\n\n        // Element of currently active step\n        var activeStep = null;\n\n        // Current state (position, rotation and scale) of the presentation\n        var currentState = null;\n\n        // Array of step elements\n        var steps = null;\n\n        // Configuration options\n        var config = null;\n\n        // Scale factor of the browser window\n        var windowScale = null;\n\n        // Root presentation elements\n        var root = lib.util.byId( rootId );\n        var canvas = document.createElement( \"div\" );\n\n        var initialized = false;\n\n        // STEP EVENTS\n        //\n        // There are currently two step events triggered by impress.js\n        // `impress:stepenter` is triggered when the step is shown on the\n        // screen (the transition from the previous one is finished) and\n        // `impress:stepleave` is triggered when the step is left (the\n        // transition to next step just starts).\n\n        // Reference to last entered step\n        var lastEntered = null;\n\n        // `onStepEnter` is called whenever the step element is entered\n        // but the event is triggered only if the step is different than\n        // last entered step.\n        // We sometimes call `goto`, and therefore `onStepEnter`, just to redraw a step, such as\n        // after screen resize. In this case - more precisely, in any case - we trigger a\n        // `impress:steprefresh` event.\n        var onStepEnter = function( step ) {\n            if ( lastEntered !== step ) {\n                lib.util.triggerEvent( step, \"impress:stepenter\" );\n                lastEntered = step;\n            }\n            lib.util.triggerEvent( step, \"impress:steprefresh\" );\n        };\n\n        // `onStepLeave` is called whenever the currentStep element is left\n        // but the event is triggered only if the currentStep is the same as\n        // lastEntered step.\n        var onStepLeave = function( currentStep, nextStep ) {\n            if ( lastEntered === currentStep ) {\n                lib.util.triggerEvent( currentStep, \"impress:stepleave\", { next: nextStep } );\n                lastEntered = null;\n            }\n        };\n\n        // `initStep` initializes given step element by reading data from its\n        // data attributes and setting correct styles.\n        var initStep = function( el, idx ) {\n            var data = el.dataset,\n                step = {\n                    translate: {\n                        x: lib.util.toNumber( data.x ),\n                        y: lib.util.toNumber( data.y ),\n                        z: lib.util.toNumber( data.z )\n                    },\n                    rotate: {\n                        x: lib.util.toNumber( data.rotateX ),\n                        y: lib.util.toNumber( data.rotateY ),\n                        z: lib.util.toNumber( data.rotateZ || data.rotate ),\n                        order: validateOrder( data.rotateOrder )\n                    },\n                    scale: lib.util.toNumber( data.scale, 1 ),\n                    transitionDuration: lib.util.toNumber(\n                        data.transitionDuration, config.transitionDuration\n                    ),\n                    el: el\n                };\n\n            if ( !el.id ) {\n                el.id = \"step-\" + ( idx + 1 );\n            }\n\n            stepsData[ \"impress-\" + el.id ] = step;\n\n            css( el, {\n                position: \"absolute\",\n                transform: \"translate(-50%,-50%)\" +\n                           translate( step.translate ) +\n                           rotate( step.rotate ) +\n                           scale( step.scale ),\n                transformStyle: \"preserve-3d\"\n            } );\n        };\n\n        // Initialize all steps.\n        // Read the data-* attributes, store in internal stepsData, and render with CSS.\n        var initAllSteps = function() {\n            steps = lib.util.$$( \".step\", root );\n            steps.forEach( initStep );\n        };\n\n        // `init` API function that initializes (and runs) the presentation.\n        var init = function() {\n            if ( initialized ) { return; }\n            execPreInitPlugins( root );\n\n            // First we set up the viewport for mobile devices.\n            // For some reason iPad goes nuts when it is not done properly.\n            var meta = lib.util.$( \"meta[name='viewport']\" ) || document.createElement( \"meta\" );\n            meta.content = \"width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no\";\n            if ( meta.parentNode !== document.head ) {\n                meta.name = \"viewport\";\n                document.head.appendChild( meta );\n            }\n\n            // Initialize configuration object\n            var rootData = root.dataset;\n            config = {\n                width: lib.util.toNumber( rootData.width, defaults.width ),\n                height: lib.util.toNumber( rootData.height, defaults.height ),\n                maxScale: lib.util.toNumber( rootData.maxScale, defaults.maxScale ),\n                minScale: lib.util.toNumber( rootData.minScale, defaults.minScale ),\n                perspective: lib.util.toNumber( rootData.perspective, defaults.perspective ),\n                transitionDuration: lib.util.toNumber(\n                    rootData.transitionDuration, defaults.transitionDuration\n                )\n            };\n\n            windowScale = computeWindowScale( config );\n\n            // Wrap steps with \"canvas\" element\n            lib.util.arrayify( root.childNodes ).forEach( function( el ) {\n                canvas.appendChild( el );\n            } );\n            root.appendChild( canvas );\n\n            // Set initial styles\n            document.documentElement.style.height = \"100%\";\n\n            css( body, {\n                height: \"100%\",\n                overflow: \"hidden\"\n            } );\n\n            var rootStyles = {\n                position: \"absolute\",\n                transformOrigin: \"top left\",\n                transition: \"all 0s ease-in-out\",\n                transformStyle: \"preserve-3d\"\n            };\n\n            css( root, rootStyles );\n            css( root, {\n                top: \"50%\",\n                left: \"50%\",\n                perspective: ( config.perspective / windowScale ) + \"px\",\n                transform: scale( windowScale )\n            } );\n            css( canvas, rootStyles );\n\n            body.classList.remove( \"impress-disabled\" );\n            body.classList.add( \"impress-enabled\" );\n\n            // Get and init steps\n            initAllSteps();\n\n            // Set a default initial state of the canvas\n            currentState = {\n                translate: { x: 0, y: 0, z: 0 },\n                rotate:    { x: 0, y: 0, z: 0, order: \"xyz\" },\n                scale:     1\n            };\n\n            initialized = true;\n\n            lib.util.triggerEvent( root, \"impress:init\",\n                                   { api: roots[ \"impress-root-\" + rootId ] } );\n        };\n\n        // `getStep` is a helper function that returns a step element defined by parameter.\n        // If a number is given, step with index given by the number is returned, if a string\n        // is given step element with such id is returned, if DOM element is given it is returned\n        // if it is a correct step element.\n        var getStep = function( step ) {\n            if ( typeof step === \"number\" ) {\n                step = step < 0 ? steps[ steps.length + step ] : steps[ step ];\n            } else if ( typeof step === \"string\" ) {\n                step = lib.util.byId( step );\n            }\n            return ( step && step.id && stepsData[ \"impress-\" + step.id ] ) ? step : null;\n        };\n\n        // Used to reset timeout for `impress:stepenter` event\n        var stepEnterTimeout = null;\n\n        // `goto` API function that moves to step given as `el` parameter (by index, id or element).\n        // `duration` optionally given as second parameter, is the transition duration in css.\n        // `reason` is the string \"next\", \"prev\" or \"goto\" (default) and will be made available to\n        // preStepLeave plugins.\n        // `origEvent` may contain event that caused the call to goto, such as a key press event\n        var goto = function( el, duration, reason, origEvent ) {\n            reason = reason || \"goto\";\n            origEvent = origEvent || null;\n\n            if ( !initialized ) {\n                return false;\n            }\n\n            // Re-execute initAllSteps for each transition. This allows to edit step attributes\n            // dynamically, such as change their coordinates, or even remove or add steps, and have\n            // that change apply when goto() is called.\n            initAllSteps();\n\n            if ( !( el = getStep( el ) ) ) {\n                return false;\n            }\n\n            // Sometimes it's possible to trigger focus on first link with some keyboard action.\n            // Browser in such a case tries to scroll the page to make this element visible\n            // (even that body overflow is set to hidden) and it breaks our careful positioning.\n            //\n            // So, as a lousy (and lazy) workaround we will make the page scroll back to the top\n            // whenever slide is selected\n            //\n            // If you are reading this and know any better way to handle it, I'll be glad to hear\n            // about it!\n            window.scrollTo( 0, 0 );\n\n            var step = stepsData[ \"impress-\" + el.id ];\n            duration = ( duration !== undefined ? duration : step.transitionDuration );\n\n            // If we are in fact moving to another step, start with executing the registered\n            // preStepLeave plugins.\n            if ( activeStep && activeStep !== el ) {\n                var event = { target: activeStep, detail: {} };\n                event.detail.next = el;\n                event.detail.transitionDuration = duration;\n                event.detail.reason = reason;\n                if ( origEvent ) {\n                    event.origEvent = origEvent;\n                }\n\n                if ( execPreStepLeavePlugins( event ) === false ) {\n\n                    // PreStepLeave plugins are allowed to abort the transition altogether, by\n                    // returning false.\n                    // see stop and substep plugins for an example of doing just that\n                    return false;\n                }\n\n                // Plugins are allowed to change the detail values\n                el = event.detail.next;\n                step = stepsData[ \"impress-\" + el.id ];\n                duration = event.detail.transitionDuration;\n            }\n\n            if ( activeStep ) {\n                activeStep.classList.remove( \"active\" );\n                body.classList.remove( \"impress-on-\" + activeStep.id );\n            }\n            el.classList.add( \"active\" );\n\n            body.classList.add( \"impress-on-\" + el.id );\n\n            // Compute target state of the canvas based on given step\n            var target = {\n                rotate: {\n                    x: -step.rotate.x,\n                    y: -step.rotate.y,\n                    z: -step.rotate.z,\n                    order: step.rotate.order\n                },\n                translate: {\n                    x: -step.translate.x,\n                    y: -step.translate.y,\n                    z: -step.translate.z\n                },\n                scale: 1 / step.scale\n            };\n\n            // Check if the transition is zooming in or not.\n            //\n            // This information is used to alter the transition style:\n            // when we are zooming in - we start with move and rotate transition\n            // and the scaling is delayed, but when we are zooming out we start\n            // with scaling down and move and rotation are delayed.\n            var zoomin = target.scale >= currentState.scale;\n\n            duration = lib.util.toNumber( duration, config.transitionDuration );\n            var delay = ( duration / 2 );\n\n            // If the same step is re-selected, force computing window scaling,\n            // because it is likely to be caused by window resize\n            if ( el === activeStep ) {\n                windowScale = computeWindowScale( config );\n            }\n\n            var targetScale = target.scale * windowScale;\n\n            // Trigger leave of currently active element (if it's not the same step again)\n            if ( activeStep && activeStep !== el ) {\n                onStepLeave( activeStep, el );\n            }\n\n            // Now we alter transforms of `root` and `canvas` to trigger transitions.\n            //\n            // And here is why there are two elements: `root` and `canvas` - they are\n            // being animated separately:\n            // `root` is used for scaling and `canvas` for translate and rotations.\n            // Transitions on them are triggered with different delays (to make\n            // visually nice and \"natural\" looking transitions), so we need to know\n            // that both of them are finished.\n            css( root, {\n\n                // To keep the perspective look similar for different scales\n                // we need to \"scale\" the perspective, too\n                // For IE 11 support we must specify perspective independent\n                // of transform.\n                perspective: ( config.perspective / targetScale ) + \"px\",\n                transform: scale( targetScale ),\n                transitionDuration: duration + \"ms\",\n                transitionDelay: ( zoomin ? delay : 0 ) + \"ms\"\n            } );\n\n            css( canvas, {\n                transform: rotate( target.rotate, true ) + translate( target.translate ),\n                transitionDuration: duration + \"ms\",\n                transitionDelay: ( zoomin ? 0 : delay ) + \"ms\"\n            } );\n\n            // Here is a tricky part...\n            //\n            // If there is no change in scale or no change in rotation and translation, it means\n            // there was actually no delay - because there was no transition on `root` or `canvas`\n            // elements. We want to trigger `impress:stepenter` event in the correct moment, so\n            // here we compare the current and target values to check if delay should be taken into\n            // account.\n            //\n            // I know that this `if` statement looks scary, but it's pretty simple when you know\n            // what is going on - it's simply comparing all the values.\n            if ( currentState.scale === target.scale ||\n                ( currentState.rotate.x === target.rotate.x &&\n                  currentState.rotate.y === target.rotate.y &&\n                  currentState.rotate.z === target.rotate.z &&\n                  currentState.translate.x === target.translate.x &&\n                  currentState.translate.y === target.translate.y &&\n                  currentState.translate.z === target.translate.z ) ) {\n                delay = 0;\n            }\n\n            // Store current state\n            currentState = target;\n            activeStep = el;\n\n            // And here is where we trigger `impress:stepenter` event.\n            // We simply set up a timeout to fire it taking transition duration (and possible delay)\n            // into account.\n            //\n            // I really wanted to make it in more elegant way. The `transitionend` event seemed to\n            // be the best way to do it, but the fact that I'm using transitions on two separate\n            // elements and that the `transitionend` event is only triggered when there was a\n            // transition (change in the values) caused some bugs and made the code really\n            // complicated, cause I had to handle all the conditions separately. And it still\n            // needed a `setTimeout` fallback for the situations when there is no transition at all.\n            // So I decided that I'd rather make the code simpler than use shiny new\n            // `transitionend`.\n            //\n            // If you want learn something interesting and see how it was done with `transitionend`\n            // go back to version 0.5.2 of impress.js:\n            // http://github.com/bartaz/impress.js/blob/0.5.2/js/impress.js\n            window.clearTimeout( stepEnterTimeout );\n            stepEnterTimeout = window.setTimeout( function() {\n                onStepEnter( activeStep );\n            }, duration + delay );\n\n            return el;\n        };\n\n        // `prev` API function goes to previous step (in document order)\n        // `event` is optional, may contain the event that caused the need to call prev()\n        var prev = function( origEvent ) {\n            var prev = steps.indexOf( activeStep ) - 1;\n            prev = prev >= 0 ? steps[ prev ] : steps[ steps.length - 1 ];\n\n            return goto( prev, undefined, \"prev\", origEvent );\n        };\n\n        // `next` API function goes to next step (in document order)\n        // `event` is optional, may contain the event that caused the need to call next()\n        var next = function( origEvent ) {\n            var next = steps.indexOf( activeStep ) + 1;\n            next = next < steps.length ? steps[ next ] : steps[ 0 ];\n\n            return goto( next, undefined, \"next\", origEvent );\n        };\n\n        // Swipe for touch devices by @and3rson.\n        // Below we extend the api to control the animation between the currently\n        // active step and a presumed next/prev step. See touch plugin for\n        // an example of using this api.\n\n        // Helper function\n        var interpolate = function( a, b, k ) {\n            return a + ( b - a ) * k;\n        };\n\n        // Animate a swipe.\n        //\n        // Pct is a value between -1.0 and +1.0, designating the current length\n        // of the swipe.\n        //\n        // If pct is negative, swipe towards the next() step, if positive,\n        // towards the prev() step.\n        //\n        // Note that pre-stepleave plugins such as goto can mess with what is a\n        // next() and prev() step, so we need to trigger the pre-stepleave event\n        // here, even if a swipe doesn't guarantee that the transition will\n        // actually happen.\n        //\n        // Calling swipe(), with any value of pct, won't in itself cause a\n        // transition to happen, this is just to animate the swipe. Once the\n        // transition is committed - such as at a touchend event - caller is\n        // responsible for also calling prev()/next() as appropriate.\n        //\n        // Note: For now, this function is made available to be used by the swipe plugin (which\n        // is the UI counterpart to this). It is a semi-internal API and intentionally not\n        // documented in DOCUMENTATION.md.\n        var swipe = function( pct ) {\n            if ( Math.abs( pct ) > 1 ) {\n                return;\n            }\n\n            // Prepare & execute the preStepLeave event\n            var event = { target: activeStep, detail: {} };\n            event.detail.swipe = pct;\n\n            // Will be ignored within swipe animation, but just in case a plugin wants to read this,\n            // humor them\n            event.detail.transitionDuration = config.transitionDuration;\n            var idx; // Needed by jshint\n            if ( pct < 0 ) {\n                idx = steps.indexOf( activeStep ) + 1;\n                event.detail.next = idx < steps.length ? steps[ idx ] : steps[ 0 ];\n                event.detail.reason = \"next\";\n            } else if ( pct > 0 ) {\n                idx = steps.indexOf( activeStep ) - 1;\n                event.detail.next = idx >= 0 ? steps[ idx ] : steps[ steps.length - 1 ];\n                event.detail.reason = \"prev\";\n            } else {\n\n                // No move\n                return;\n            }\n            if ( execPreStepLeavePlugins( event ) === false ) {\n\n                // If a preStepLeave plugin wants to abort the transition, don't animate a swipe\n                // For stop, this is probably ok. For substep, the plugin it self might want to do\n                // some animation, but that's not the current implementation.\n                return false;\n            }\n            var nextElement = event.detail.next;\n\n            var nextStep = stepsData[ \"impress-\" + nextElement.id ];\n\n            // If the same step is re-selected, force computing window scaling,\n            var nextScale = nextStep.scale * windowScale;\n            var k = Math.abs( pct );\n\n            var interpolatedStep = {\n                translate: {\n                    x: interpolate( currentState.translate.x, -nextStep.translate.x, k ),\n                    y: interpolate( currentState.translate.y, -nextStep.translate.y, k ),\n                    z: interpolate( currentState.translate.z, -nextStep.translate.z, k )\n                },\n                rotate: {\n                    x: interpolate( currentState.rotate.x, -nextStep.rotate.x, k ),\n                    y: interpolate( currentState.rotate.y, -nextStep.rotate.y, k ),\n                    z: interpolate( currentState.rotate.z, -nextStep.rotate.z, k ),\n\n                    // Unfortunately there's a discontinuity if rotation order changes. Nothing I\n                    // can do about it?\n                    order: k < 0.7 ? currentState.rotate.order : nextStep.rotate.order\n                },\n                scale: interpolate( currentState.scale * windowScale, nextScale, k )\n            };\n\n            css( root, {\n\n                // To keep the perspective look similar for different scales\n                // we need to 'scale' the perspective, too\n                perspective: config.perspective / interpolatedStep.scale + \"px\",\n                transform: scale( interpolatedStep.scale ),\n                transitionDuration: \"0ms\",\n                transitionDelay: \"0ms\"\n            } );\n\n            css( canvas, {\n                transform: rotate( interpolatedStep.rotate, true ) +\n                           translate( interpolatedStep.translate ),\n                transitionDuration: \"0ms\",\n                transitionDelay: \"0ms\"\n            } );\n        };\n\n        // Teardown impress\n        // Resets the DOM to the state it was before impress().init() was called.\n        // (If you called impress(rootId).init() for multiple different rootId's, then you must\n        // also call tear() once for each of them.)\n        var tear = function() {\n            lib.gc.teardown();\n            delete roots[ \"impress-root-\" + rootId ];\n        };\n\n        // Adding some useful classes to step elements.\n        //\n        // All the steps that have not been shown yet are given `future` class.\n        // When the step is entered the `future` class is removed and the `present`\n        // class is given. When the step is left `present` class is replaced with\n        // `past` class.\n        //\n        // So every step element is always in one of three possible states:\n        // `future`, `present` and `past`.\n        //\n        // There classes can be used in CSS to style different types of steps.\n        // For example the `present` class can be used to trigger some custom\n        // animations when step is shown.\n        lib.gc.addEventListener( root, \"impress:init\", function() {\n\n            // STEP CLASSES\n            steps.forEach( function( step ) {\n                step.classList.add( \"future\" );\n            } );\n\n            lib.gc.addEventListener( root, \"impress:stepenter\", function( event ) {\n                event.target.classList.remove( \"past\" );\n                event.target.classList.remove( \"future\" );\n                event.target.classList.add( \"present\" );\n            }, false );\n\n            lib.gc.addEventListener( root, \"impress:stepleave\", function( event ) {\n                event.target.classList.remove( \"present\" );\n                event.target.classList.add( \"past\" );\n            }, false );\n\n        }, false );\n\n        // Adding hash change support.\n        lib.gc.addEventListener( root, \"impress:init\", function() {\n\n            // Last hash detected\n            var lastHash = \"\";\n\n            // `#/step-id` is used instead of `#step-id` to prevent default browser\n            // scrolling to element in hash.\n            //\n            // And it has to be set after animation finishes, because in Chrome it\n            // makes transtion laggy.\n            // BUG: http://code.google.com/p/chromium/issues/detail?id=62820\n            lib.gc.addEventListener( root, \"impress:stepenter\", function( event ) {\n                window.location.hash = lastHash = \"#/\" + event.target.id;\n            }, false );\n\n            lib.gc.addEventListener( window, \"hashchange\", function() {\n\n                // When the step is entered hash in the location is updated\n                // (just few lines above from here), so the hash change is\n                // triggered and we would call `goto` again on the same element.\n                //\n                // To avoid this we store last entered hash and compare.\n                if ( window.location.hash !== lastHash ) {\n                    goto( lib.util.getElementFromHash() );\n                }\n            }, false );\n\n            // START\n            // by selecting step defined in url or first step of the presentation\n            goto( lib.util.getElementFromHash() || steps[ 0 ], 0 );\n        }, false );\n\n        body.classList.add( \"impress-disabled\" );\n\n        // Store and return API for given impress.js root element\n        return ( roots[ \"impress-root-\" + rootId ] = {\n            init: init,\n            goto: goto,\n            next: next,\n            prev: prev,\n            swipe: swipe,\n            tear: tear,\n            lib: lib\n        } );\n\n    };\n\n    // Flag that can be used in JS to check if browser have passed the support test\n    impress.supported = impressSupported;\n\n    // ADD and INIT LIBRARIES\n    // Library factories are defined in src/lib/*.js, and register themselves by calling\n    // impress.addLibraryFactory(libraryFactoryObject). They're stored here, and used to augment\n    // the API with library functions when client calls impress(rootId).\n    // See src/lib/README.md for clearer example.\n    // (Advanced usage: For different values of rootId, a different instance of the libaries are\n    // generated, in case they need to hold different state for different root elements.)\n    var libraryFactories = {};\n    impress.addLibraryFactory = function( obj ) {\n        for ( var libname in obj ) {\n            if ( obj.hasOwnProperty( libname ) ) {\n                libraryFactories[ libname ] = obj[ libname ];\n            }\n        }\n    };\n\n    // Call each library factory, and return the lib object that is added to the api.\n    var initLibraries = function( rootId ) { //jshint ignore:line\n        var lib = {};\n        for ( var libname in libraryFactories ) {\n            if ( libraryFactories.hasOwnProperty( libname ) ) {\n                if ( lib[ libname ] !== undefined ) {\n                    throw \"impress.js ERROR: Two libraries both tried to use libname: \" +  libname;\n                }\n                lib[ libname ] = libraryFactories[ libname ]( rootId );\n            }\n        }\n        return lib;\n    };\n\n    // `addPreInitPlugin` allows plugins to register a function that should\n    // be run (synchronously) at the beginning of init, before\n    // impress().init() itself executes.\n    impress.addPreInitPlugin = function( plugin, weight ) {\n        weight = parseInt( weight ) || 10;\n        if ( weight <= 0 ) {\n            throw \"addPreInitPlugin: weight must be a positive integer\";\n        }\n\n        if ( preInitPlugins[ weight ] === undefined ) {\n            preInitPlugins[ weight ] = [];\n        }\n        preInitPlugins[ weight ].push( plugin );\n    };\n\n    // Called at beginning of init, to execute all pre-init plugins.\n    var execPreInitPlugins = function( root ) { //jshint ignore:line\n        for ( var i = 0; i < preInitPlugins.length; i++ ) {\n            var thisLevel = preInitPlugins[ i ];\n            if ( thisLevel !== undefined ) {\n                for ( var j = 0; j < thisLevel.length; j++ ) {\n                    thisLevel[ j ]( root );\n                }\n            }\n        }\n    };\n\n    // `addPreStepLeavePlugin` allows plugins to register a function that should\n    // be run (synchronously) at the beginning of goto()\n    impress.addPreStepLeavePlugin = function( plugin, weight ) { //jshint ignore:line\n        weight = parseInt( weight ) || 10;\n        if ( weight <= 0 ) {\n            throw \"addPreStepLeavePlugin: weight must be a positive integer\";\n        }\n\n        if ( preStepLeavePlugins[ weight ] === undefined ) {\n            preStepLeavePlugins[ weight ] = [];\n        }\n        preStepLeavePlugins[ weight ].push( plugin );\n    };\n\n    // Called at beginning of goto(), to execute all preStepLeave plugins.\n    var execPreStepLeavePlugins = function( event ) { //jshint ignore:line\n        for ( var i = 0; i < preStepLeavePlugins.length; i++ ) {\n            var thisLevel = preStepLeavePlugins[ i ];\n            if ( thisLevel !== undefined ) {\n                for ( var j = 0; j < thisLevel.length; j++ ) {\n                    if ( thisLevel[ j ]( event ) === false ) {\n\n                        // If a plugin returns false, the stepleave event (and related transition)\n                        // is aborted\n                        return false;\n                    }\n                }\n            }\n        }\n    };\n\n} )( document, window );\n\n// THAT'S ALL FOLKS!\n//\n// Thanks for reading it all.\n// Or thanks for scrolling down and reading the last part.\n//\n// I've learnt a lot when building impress.js and I hope this code and comments\n// will help somebody learn at least some part of it.\n\n/**\n * Garbage collection utility\n *\n * This library allows plugins to add elements and event listeners they add to the DOM. The user\n * can call `impress().lib.gc.teardown()` to cause all of them to be removed from DOM, so that\n * the document is in the state it was before calling `impress().init()`.\n *\n * In addition to just adding elements and event listeners to the garbage collector, plugins\n * can also register callback functions to do arbitrary cleanup upon teardown.\n *\n * Henrik Ingo (c) 2016\n * MIT License\n */\n\n( function( document, window ) {\n    \"use strict\";\n    var roots = [];\n    var rootsCount = 0;\n    var startingState = { roots: [] };\n\n    var libraryFactory = function( rootId ) {\n        if ( roots[ rootId ] ) {\n            return roots[ rootId ];\n        }\n\n        // Per root global variables (instance variables?)\n        var elementList = [];\n        var eventListenerList = [];\n        var callbackList = [];\n\n        recordStartingState( rootId );\n\n        // LIBRARY FUNCTIONS\n        // Definitions of the library functions we return as an object at the end\n\n        // `pushElement` adds a DOM element to the gc stack\n        var pushElement = function( element ) {\n            elementList.push( element );\n        };\n\n        // `appendChild` is a convenience wrapper that combines DOM appendChild with gc.pushElement\n        var appendChild = function( parent, element ) {\n            parent.appendChild( element );\n            pushElement( element );\n        };\n\n        // `pushEventListener` adds an event listener to the gc stack\n        var pushEventListener = function( target, type, listenerFunction ) {\n            eventListenerList.push( { target:target, type:type, listener:listenerFunction } );\n        };\n\n        // `addEventListener` combines DOM addEventListener with gc.pushEventListener\n        var addEventListener = function( target, type, listenerFunction ) {\n            target.addEventListener( type, listenerFunction );\n            pushEventListener( target, type, listenerFunction );\n        };\n\n        // `pushCallback` If the above utilities are not enough, plugins can add their own callback\n        // function to do arbitrary things.\n        var pushCallback = function( callback ) {\n            callbackList.push( callback );\n        };\n        pushCallback( function( rootId ) { resetStartingState( rootId ); } );\n\n        // `teardown` will\n        // - execute all callbacks in LIFO order\n        // - call `removeChild` on all DOM elements in LIFO order\n        // - call `removeEventListener` on all event listeners in LIFO order\n        // The goal of a teardown is to return to the same state that the DOM was before\n        // `impress().init()` was called.\n        var teardown = function() {\n\n            // Execute the callbacks in LIFO order\n            var i; // Needed by jshint\n            for ( i = callbackList.length - 1; i >= 0; i-- ) {\n                callbackList[ i ]( rootId );\n            }\n            callbackList = [];\n            for ( i = 0; i < elementList.length; i++ ) {\n                elementList[ i ].parentElement.removeChild( elementList[ i ] );\n            }\n            elementList = [];\n            for ( i = 0; i < eventListenerList.length; i++ ) {\n                var target   = eventListenerList[ i ].target;\n                var type     = eventListenerList[ i ].type;\n                var listener = eventListenerList[ i ].listener;\n                target.removeEventListener( type, listener );\n            }\n        };\n\n        var lib = {\n            pushElement: pushElement,\n            appendChild: appendChild,\n            pushEventListener: pushEventListener,\n            addEventListener: addEventListener,\n            pushCallback: pushCallback,\n            teardown: teardown\n        };\n        roots[ rootId ] = lib;\n        rootsCount++;\n        return lib;\n    };\n\n    // Let impress core know about the existence of this library\n    window.impress.addLibraryFactory( { gc: libraryFactory } );\n\n    // CORE INIT\n    // The library factory (gc(rootId)) is called at the beginning of impress(rootId).init()\n    // For the purposes of teardown(), we can use this as an opportunity to save the state\n    // of a few things in the DOM in their virgin state, before impress().init() did anything.\n    // Note: These could also be recorded by the code in impress.js core as these values\n    // are changed, but in an effort to not deviate too much from upstream, I'm adding\n    // them here rather than the core itself.\n    var recordStartingState = function( rootId ) {\n        startingState.roots[ rootId ] = {};\n        startingState.roots[ rootId ].steps = [];\n\n        // Record whether the steps have an id or not\n        var steps = document.getElementById( rootId ).querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            var el = steps[ i ];\n            startingState.roots[ rootId ].steps.push( {\n                el: el,\n                id: el.getAttribute( \"id\" )\n            } );\n        }\n\n        // In the rare case of multiple roots, the following is changed on first init() and\n        // reset at last tear().\n        if ( rootsCount === 0 ) {\n            startingState.body = {};\n\n            // It is customary for authors to set body.class=\"impress-not-supported\" as a starting\n            // value, which can then be removed by impress().init(). But it is not required.\n            // Remember whether it was there or not.\n            if ( document.body.classList.contains( \"impress-not-supported\" ) ) {\n                startingState.body.impressNotSupported = true;\n            } else {\n                startingState.body.impressNotSupported = false;\n            }\n\n            // If there's a <meta name=\"viewport\"> element, its contents will be overwritten by init\n            var metas = document.head.querySelectorAll( \"meta\" );\n            for ( i = 0; i < metas.length; i++ ) {\n                var m = metas[ i ];\n                if ( m.name === \"viewport\" ) {\n                    startingState.meta = m.content;\n                }\n            }\n        }\n    };\n\n    // CORE TEARDOWN\n    var resetStartingState = function( rootId ) {\n\n        // Reset body element\n        document.body.classList.remove( \"impress-enabled\" );\n        document.body.classList.remove( \"impress-disabled\" );\n\n        var root = document.getElementById( rootId );\n        var activeId = root.querySelector( \".active\" ).id;\n        document.body.classList.remove( \"impress-on-\" + activeId );\n\n        document.documentElement.style.height = \"\";\n        document.body.style.height = \"\";\n        document.body.style.overflow = \"\";\n\n        // Remove style values from the root and step elements\n        // Note: We remove the ones set by impress.js core. Otoh, we didn't preserve any original\n        // values. A more sophisticated implementation could keep track of original values and then\n        // reset those.\n        var steps = root.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            steps[ i ].classList.remove( \"future\" );\n            steps[ i ].classList.remove( \"past\" );\n            steps[ i ].classList.remove( \"present\" );\n            steps[ i ].classList.remove( \"active\" );\n            steps[ i ].style.position = \"\";\n            steps[ i ].style.transform = \"\";\n            steps[ i ].style[ \"transform-style\" ] = \"\";\n        }\n        root.style.position = \"\";\n        root.style[ \"transform-origin\" ] = \"\";\n        root.style.transition = \"\";\n        root.style[ \"transform-style\" ] = \"\";\n        root.style.top = \"\";\n        root.style.left = \"\";\n        root.style.transform = \"\";\n\n        // Reset id of steps (\"step-1\" id's are auto generated)\n        steps = startingState.roots[ rootId ].steps;\n        var step;\n        while ( step = steps.pop() ) {\n            if ( step.id === null ) {\n                step.el.removeAttribute( \"id\" );\n            } else {\n                step.el.setAttribute( \"id\", step.id );\n            }\n        }\n        delete startingState.roots[ rootId ];\n\n        // Move step div elements away from canvas, then delete canvas\n        // Note: There's an implicit assumption here that the canvas div is the only child element\n        // of the root div. If there would be something else, it's gonna be lost.\n        var canvas = root.firstChild;\n        var canvasHTML = canvas.innerHTML;\n        root.innerHTML = canvasHTML;\n\n        if ( roots[ rootId ] !== undefined ) {\n            delete roots[ rootId ];\n            rootsCount--;\n        }\n        if ( rootsCount === 0 ) {\n\n            // In the rare case that more than one impress root elements were initialized, these\n            // are only reset when all are uninitialized.\n            document.body.classList.remove( \"impress-supported\" );\n            if ( startingState.body.impressNotSupported ) {\n                document.body.classList.add( \"impress-not-supported\" );\n            }\n\n            // We need to remove or reset the meta element inserted by impress.js\n            var metas = document.head.querySelectorAll( \"meta\" );\n            for ( i = 0; i < metas.length; i++ ) {\n                var m = metas[ i ];\n                if ( m.name === \"viewport\" ) {\n                    if ( startingState.meta !== undefined ) {\n                        m.content = startingState.meta;\n                    } else {\n                        m.parentElement.removeChild( m );\n                    }\n                }\n            }\n        }\n\n    };\n\n} )( document, window );\n\n/**\n * Common utility functions\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Henrik Ingo (c) 2016\n * MIT License\n */\n\n( function( document, window ) {\n    \"use strict\";\n    var roots = [];\n\n    var libraryFactory = function( rootId ) {\n        if ( roots[ rootId ] ) {\n            return roots[ rootId ];\n        }\n\n        // `$` returns first element for given CSS `selector` in the `context` of\n        // the given element or whole document.\n        var $ = function( selector, context ) {\n            context = context || document;\n            return context.querySelector( selector );\n        };\n\n        // `$$` return an array of elements for given CSS `selector` in the `context` of\n        // the given element or whole document.\n        var $$ = function( selector, context ) {\n            context = context || document;\n            return arrayify( context.querySelectorAll( selector ) );\n        };\n\n        // `arrayify` takes an array-like object and turns it into real Array\n        // to make all the Array.prototype goodness available.\n        var arrayify = function( a ) {\n            return [].slice.call( a );\n        };\n\n        // `byId` returns element with given `id` - you probably have guessed that ;)\n        var byId = function( id ) {\n            return document.getElementById( id );\n        };\n\n        // `getElementFromHash` returns an element located by id from hash part of\n        // window location.\n        var getElementFromHash = function() {\n\n            // Get id from url # by removing `#` or `#/` from the beginning,\n            // so both \"fallback\" `#slide-id` and \"enhanced\" `#/slide-id` will work\n            return byId( window.location.hash.replace( /^#\\/?/, \"\" ) );\n        };\n\n        // `getUrlParamValue` return a given URL parameter value if it exists\n        // `undefined` if it doesn't exist\n        var getUrlParamValue = function( parameter ) {\n            var chunk = window.location.search.split( parameter + \"=\" )[ 1 ];\n            var value = chunk && chunk.split( \"&\" )[ 0 ];\n\n            if ( value !== \"\" ) {\n                return value;\n            }\n        };\n\n        // Throttling function calls, by Remy Sharp\n        // http://remysharp.com/2010/07/21/throttling-function-calls/\n        var throttle = function( fn, delay ) {\n            var timer = null;\n            return function() {\n                var context = this, args = arguments;\n                window.clearTimeout( timer );\n                timer = window.setTimeout( function() {\n                    fn.apply( context, args );\n                }, delay );\n            };\n        };\n\n        // `toNumber` takes a value given as `numeric` parameter and tries to turn\n        // it into a number. If it is not possible it returns 0 (or other value\n        // given as `fallback`).\n        var toNumber = function( numeric, fallback ) {\n            return isNaN( numeric ) ? ( fallback || 0 ) : Number( numeric );\n        };\n\n        // `triggerEvent` builds a custom DOM event with given `eventName` and `detail` data\n        // and triggers it on element given as `el`.\n        var triggerEvent = function( el, eventName, detail ) {\n            var event = document.createEvent( \"CustomEvent\" );\n            event.initCustomEvent( eventName, true, true, detail );\n            el.dispatchEvent( event );\n        };\n\n        var lib = {\n            $: $,\n            $$: $$,\n            arrayify: arrayify,\n            byId: byId,\n            getElementFromHash: getElementFromHash,\n            throttle: throttle,\n            toNumber: toNumber,\n            triggerEvent: triggerEvent,\n            getUrlParamValue: getUrlParamValue\n        };\n        roots[ rootId ] = lib;\n        return lib;\n    };\n\n    // Let impress core know about the existence of this library\n    window.impress.addLibraryFactory( { util: libraryFactory } );\n\n} )( document, window );\n\n/**\n * Autoplay plugin - Automatically advance slideshow after N seconds\n *\n * Copyright 2016 Henrik Ingo, henrik.ingo@avoinelama.fi\n * Released under the MIT license.\n */\n/* global clearTimeout, setTimeout, document */\n\n( function( document ) {\n    \"use strict\";\n\n    var autoplayDefault = 0;\n    var currentStepTimeout = 0;\n    var api = null;\n    var timeoutHandle = null;\n    var root = null;\n    var util;\n\n    // On impress:init, check whether there is a default setting, as well as\n    // handle step-1.\n    document.addEventListener( \"impress:init\", function( event ) {\n        util = event.detail.api.lib.util;\n\n        // Getting API from event data instead of global impress().init().\n        // You don't even need to know what is the id of the root element\n        // or anything. `impress:init` event data gives you everything you\n        // need to control the presentation that was just initialized.\n        api = event.detail.api;\n        root = event.target;\n\n        // Element attributes starting with \"data-\", become available under\n        // element.dataset. In addition hyphenized words become camelCased.\n        var data = root.dataset;\n        var autoplay = util.getUrlParamValue( \"impress-autoplay\" ) || data.autoplay;\n\n        if ( autoplay ) {\n            autoplayDefault = util.toNumber( autoplay, 0 );\n        }\n\n        var toolbar = document.querySelector( \"#impress-toolbar\" );\n        if ( toolbar ) {\n            addToolbarButton( toolbar );\n        }\n\n        api.lib.gc.pushCallback( function() {\n            clearTimeout( timeoutHandle );\n        } );\n\n        // Note that right after impress:init event, also impress:stepenter is\n        // triggered for the first slide, so that's where code flow continues.\n    }, false );\n\n    document.addEventListener( \"impress:autoplay:pause\", function( event ) {\n        status = \"paused\";\n        reloadTimeout( event );\n    }, false );\n\n    document.addEventListener( \"impress:autoplay:play\", function( event ) {\n        status = \"playing\";\n        reloadTimeout( event );\n    }, false );\n\n    // If default autoplay time was defined in the presentation root, or\n    // in this step, set timeout.\n    var reloadTimeout = function( event ) {\n        var step = event.target;\n        currentStepTimeout = util.toNumber( step.dataset.autoplay, autoplayDefault );\n        if ( status === \"paused\" ) {\n            setAutoplayTimeout( 0 );\n        } else {\n            setAutoplayTimeout( currentStepTimeout );\n        }\n    };\n\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        reloadTimeout( event );\n    }, false );\n\n    document.addEventListener( \"impress:substep:enter\", function( event ) {\n        reloadTimeout( event );\n    }, false );\n\n    /**\n     * Set timeout after which we move to next() step.\n     */\n    var setAutoplayTimeout = function( timeout ) {\n        if ( timeoutHandle ) {\n            clearTimeout( timeoutHandle );\n        }\n\n        if ( timeout > 0 ) {\n            timeoutHandle = setTimeout( function() { api.next(); }, timeout * 1000 );\n        }\n        setButtonText();\n    };\n\n    /*** Toolbar plugin integration *******************************************/\n    var status = \"not clicked\";\n    var toolbarButton = null;\n\n    var makeDomElement = function( html ) {\n        var tempDiv = document.createElement( \"div\" );\n        tempDiv.innerHTML = html;\n        return tempDiv.firstChild;\n    };\n\n    var toggleStatus = function() {\n        if ( currentStepTimeout > 0 && status !== \"paused\" ) {\n            status = \"paused\";\n        } else {\n            status = \"playing\";\n        }\n    };\n\n    var getButtonText = function() {\n        if ( currentStepTimeout > 0 && status !== \"paused\" ) {\n            return \"||\"; // Pause\n        } else {\n            return \"&#9654;\"; // Play\n        }\n    };\n\n    var setButtonText = function() {\n        if ( toolbarButton ) {\n\n            // Keep button size the same even if label content is changing\n            var buttonWidth = toolbarButton.offsetWidth;\n            var buttonHeight = toolbarButton.offsetHeight;\n            toolbarButton.innerHTML = getButtonText();\n            if ( !toolbarButton.style.width ) {\n                toolbarButton.style.width = buttonWidth + \"px\";\n            }\n            if ( !toolbarButton.style.height ) {\n                toolbarButton.style.height = buttonHeight + \"px\";\n            }\n        }\n    };\n\n    var addToolbarButton = function( toolbar ) {\n        var html = '<button id=\"impress-autoplay-playpause\" ' + // jshint ignore:line\n                   'title=\"Autoplay\" class=\"impress-autoplay\">' + // jshint ignore:line\n                   getButtonText() + \"</button>\"; // jshint ignore:line\n        toolbarButton = makeDomElement( html );\n        toolbarButton.addEventListener( \"click\", function() {\n            toggleStatus();\n            if ( status === \"playing\" ) {\n                if ( autoplayDefault === 0 ) {\n                    autoplayDefault = 7;\n                }\n                if ( currentStepTimeout === 0 ) {\n                    currentStepTimeout = autoplayDefault;\n                }\n                setAutoplayTimeout( currentStepTimeout );\n            } else if ( status === \"paused\" ) {\n                setAutoplayTimeout( 0 );\n            }\n        } );\n\n        util.triggerEvent( toolbar, \"impress:toolbar:appendChild\",\n                      { group: 10, element: toolbarButton } );\n    };\n\n} )( document );\n\n/**\n * Blackout plugin\n *\n * Press b or . to hide all slides, and b or . again to show them.\n * Also navigating to a different slide will show them again (impress:stepleave).\n *\n * Copyright 2014 @Strikeskids\n * Released under the MIT license.\n */\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n\n    var canvas = null;\n    var blackedOut = false;\n    var util = null;\n    var root = null;\n    var api = null;\n\n    // While waiting for a shared library of utilities, copying these 2 from main impress.js\n    var css = function( el, props ) {\n        var key, pkey;\n        for ( key in props ) {\n            if ( props.hasOwnProperty( key ) ) {\n                pkey = pfx( key );\n                if ( pkey !== null ) {\n                    el.style[ pkey ] = props[ key ];\n                }\n            }\n        }\n        return el;\n    };\n\n    var pfx = ( function() {\n\n        var style = document.createElement( \"dummy\" ).style,\n            prefixes = \"Webkit Moz O ms Khtml\".split( \" \" ),\n            memory = {};\n\n        return function( prop ) {\n            if ( typeof memory[ prop ] === \"undefined\" ) {\n\n                var ucProp  = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n                    props   = ( prop + \" \" + prefixes.join( ucProp + \" \" ) + ucProp ).split( \" \" );\n\n                memory[ prop ] = null;\n                for ( var i in props ) {\n                    if ( style[ props[ i ] ] !== undefined ) {\n                        memory[ prop ] = props[ i ];\n                        break;\n                    }\n                }\n\n            }\n\n            return memory[ prop ];\n        };\n\n    } )();\n\n    var removeBlackout = function() {\n        if ( blackedOut ) {\n            css( canvas, {\n                display: \"block\"\n            } );\n            blackedOut = false;\n            util.triggerEvent( root, \"impress:autoplay:play\", {} );\n        }\n    };\n\n    var blackout = function() {\n        if ( blackedOut ) {\n            removeBlackout();\n        } else {\n            css( canvas, {\n                display: ( blackedOut = !blackedOut ) ? \"none\" : \"block\"\n            } );\n            blackedOut = true;\n            util.triggerEvent( root, \"impress:autoplay:pause\", {} );\n        }\n    };\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        api = event.detail.api;\n        util = api.lib.util;\n        root = event.target;\n        canvas = root.firstElementChild;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        gc.addEventListener( document, \"keydown\", function( event ) {\n\n            // Accept b or . -> . is sent by presentation remote controllers\n            if ( event.keyCode === 66 || event.keyCode === 190 ) {\n                event.preventDefault();\n                if ( !blackedOut ) {\n                    blackout();\n                } else {\n                    removeBlackout();\n                }\n            }\n        }, false );\n\n        gc.addEventListener( document, \"keyup\", function( event ) {\n\n            // Accept b or . -> . is sent by presentation remote controllers\n            if ( event.keyCode === 66 || event.keyCode === 190 ) {\n                event.preventDefault();\n            }\n        }, false );\n\n    }, false );\n\n    document.addEventListener( \"impress:stepleave\", function() {\n        removeBlackout();\n    }, false );\n\n} )( document );\n\n\n/**\n * Extras Plugin\n *\n * This plugin performs initialization (like calling mermaid.initialize())\n * for the extras/ plugins if they are loaded into a presentation.\n *\n * See README.md for details.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global markdown, hljs, mermaid, impress, document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    var preInit = function() {\n        if ( window.markdown ) {\n\n            // Unlike the other extras, Markdown.js doesn't by default do anything in\n            // particular. We do it ourselves here.\n            // In addition, we use \"-----\" as a delimiter for new slide.\n\n            // Query all .markdown elements and translate to HTML\n            var markdownDivs = document.querySelectorAll( \".markdown\" );\n            for ( var idx = 0; idx < markdownDivs.length; idx++ ) {\n              var element = markdownDivs[ idx ];\n              var dialect = element.dataset.markdownDialect;\n\n              var slides = element.textContent.split( /^-----$/m );\n              var i = slides.length - 1;\n              element.innerHTML = markdown.toHTML( slides[ i ], dialect );\n\n              // If there's an id, unset it for last, and all other, elements,\n              // and then set it for the first.\n              var id = null;\n              if ( element.id ) {\n                id = element.id;\n                element.id = \"\";\n              }\n              i--;\n              while ( i >= 0 ) {\n                var newElement = element.cloneNode( false );\n                newElement.innerHTML = markdown.toHTML( slides[ i ] );\n                element.parentNode.insertBefore( newElement, element );\n                element = newElement;\n                i--;\n              }\n              if ( id !== null ) {\n                element.id = id;\n              }\n            }\n        } // Markdown\n\n        if ( window.hljs ) {\n            hljs.initHighlightingOnLoad();\n        }\n\n        if ( window.mermaid ) {\n            mermaid.initialize( { startOnLoad:true } );\n        }\n    };\n\n    // Register the plugin to be called in pre-init phase\n    // Note: Markdown.js should run early/first, because it creates new div elements.\n    // So add this with a lower-than-default weight.\n    impress.addPreInitPlugin( preInit, 1 );\n\n} )( document, window );\n\n\n/**\n * Form support\n *\n * Functionality to better support use of input, textarea, button... elements in a presentation.\n *\n * This plugin does two things:\n *\n * Set stopPropagation on any element that might take text input. This allows users to type, for\n * example, the letter 'P' into a form field, without causing the presenter console to spring up.\n *\n * On impress:stepleave, de-focus any potentially active\n * element. This is to prevent the focus from being left in a form element that is no longer visible\n * in the window, and user therefore typing garbage into the form.\n *\n * TODO: Currently it is not possible to use TAB to navigate between form elements. Impress.js, and\n * in particular the navigation plugin, unfortunately must fully take control of the tab key,\n * otherwise a user could cause the browser to scroll to a link or button that's not on the current\n * step. However, it could be possible to allow tab navigation between form elements, as long as\n * they are on the active step. This is a topic for further study.\n *\n * Copyright 2016 Henrik Ingo\n * MIT License\n */\n/* global document */\n( function( document ) {\n    \"use strict\";\n    var root;\n    var api;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        root = event.target;\n        api = event.detail.api;\n        var gc = api.lib.gc;\n\n        var selectors = [ \"input\", \"textarea\", \"select\", \"[contenteditable=true]\" ];\n        for ( var selector of selectors ) {\n            var elements = document.querySelectorAll( selector );\n            if ( !elements ) {\n                continue;\n            }\n\n            for ( var i = 0; i < elements.length; i++ ) {\n                var e = elements[ i ];\n                gc.addEventListener( e, \"keydown\", function( event ) {\n                    event.stopPropagation();\n                } );\n                gc.addEventListener( e, \"keyup\", function( event ) {\n                    event.stopPropagation();\n                } );\n            }\n        }\n    }, false );\n\n    document.addEventListener( \"impress:stepleave\", function() {\n        document.activeElement.blur();\n    }, false );\n\n} )( document );\n\n\n/**\n * Fullscreen plugin\n *\n * Press F5 to enter fullscreen and ESC to exit fullscreen mode.\n *\n * Copyright 2019 @giflw\n * Released under the MIT license.\n */\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n\n    function enterFullscreen() {\n        var elem = document.documentElement;\n        if ( !document.fullscreenElement ) {\n            elem.requestFullscreen();\n        }\n    }\n\n    function exitFullscreen() {\n        if ( document.fullscreenElement ) {\n            document.exitFullscreen();\n        }\n    }\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n        var root = event.target;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        gc.addEventListener( document, \"keydown\", function( event ) {\n\n            // 116 (F5) is sent by presentation remote controllers\n            if ( event.code === \"F5\" ) {\n                event.preventDefault();\n                enterFullscreen();\n                util.triggerEvent( root.querySelector( \".active\" ), \"impress:steprefresh\" );\n            }\n\n            // 27 (Escape) is sent by presentation remote controllers\n            if ( event.key === \"Escape\" || event.key === \"F5\" ) {\n                event.preventDefault();\n                exitFullscreen();\n                util.triggerEvent( root.querySelector( \".active\" ), \"impress:steprefresh\" );\n            }\n        }, false );\n\n        util.triggerEvent( document, \"impress:help:add\",\n            { command: \"F5 / ESC\", text: \"Fullscreen: Enter / Exit\", row: 200 } );\n\n    }, false );\n\n} )( document );\n\n\n/**\n * Goto Plugin\n *\n * The goto plugin is a pre-stepleave plugin. It is executed before impress:stepleave,\n * and will alter the destination where to transition next.\n *\n * Example:\n *\n *         <!-- When leaving this step, go directly to \"step-5\" -->\n *         <div class=\"step\" data-goto=\"step-5\">\n *\n *         <!-- When leaving this step with next(), go directly to \"step-5\", instead of next step.\n *              If moving backwards to previous step - e.g. prev() instead of next() -\n *              then go to \"step-1\". -->\n *         <div class=\"step\" data-goto-next=\"step-5\" data-goto-prev=\"step-1\">\n *\n *        <!-- data-goto-key-list and data-goto-next-list allow you to build advanced non-linear\n *             navigation. -->\n *        <div class=\"step\"\n *             data-goto-key-list=\"ArrowUp ArrowDown ArrowRight ArrowLeft\"\n *             data-goto-next-list=\"step-4 step-3 step-2 step-5\">\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values for a table\n * of what strings to use for each key.\n *\n * Copyright 2016-2017 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document, impress */\n\n( function( document, window ) {\n    \"use strict\";\n    var lib;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        lib = event.detail.api.lib;\n    }, false );\n\n    var isNumber = function( numeric ) {\n        return !isNaN( numeric );\n    };\n\n    var goto = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        var data = event.target.dataset;\n        var steps = document.querySelectorAll( \".step\" );\n\n        // Data-goto-key-list=\"\" & data-goto-next-list=\"\" //////////////////////////////////////////\n        if ( data.gotoKeyList !== undefined &&\n             data.gotoNextList !== undefined &&\n             event.origEvent !== undefined &&\n             event.origEvent.key !== undefined ) {\n            var keylist = data.gotoKeyList.split( \" \" );\n            var nextlist = data.gotoNextList.split( \" \" );\n\n            if ( keylist.length !== nextlist.length ) {\n                window.console.log(\n                    \"impress goto plugin: data-goto-key-list and data-goto-next-list don't match:\"\n                );\n                window.console.log( keylist );\n                window.console.log( nextlist );\n\n                // Don't return, allow the other categories to work despite this error\n            } else {\n                var index = keylist.indexOf( event.origEvent.key );\n                if ( index >= 0 ) {\n                    var next = nextlist[ index ];\n                    if ( isNumber( next ) ) {\n                        event.detail.next = steps[ next ];\n\n                        // If the new next element has its own transitionDuration, we're responsible\n                        // for setting that on the event as well\n                        event.detail.transitionDuration = lib.util.toNumber(\n                            event.detail.next.dataset.transitionDuration,\n                            event.detail.transitionDuration\n                        );\n                        return;\n                    } else {\n                        var newTarget = document.getElementById( next );\n                        if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                            event.detail.next = newTarget;\n                            event.detail.transitionDuration = lib.util.toNumber(\n                                event.detail.next.dataset.transitionDuration,\n                                event.detail.transitionDuration\n                            );\n                            return;\n                        } else {\n                            window.console.log( \"impress goto plugin: \" + next +\n                                                \" is not a step in this impress presentation.\" );\n                        }\n                    }\n                }\n            }\n        }\n\n        // Data-goto-next=\"\" & data-goto-prev=\"\" ///////////////////////////////////////////////////\n\n        // Handle event.target data-goto-next attribute\n        if ( isNumber( data.gotoNext ) && event.detail.reason === \"next\" ) {\n            event.detail.next = steps[ data.gotoNext ];\n\n            // If the new next element has its own transitionDuration, we're responsible for setting\n            // that on the event as well\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.gotoNext && event.detail.reason === \"next\" ) {\n            var newTarget = document.getElementById( data.gotoNext ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration,\n                    event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.gotoNext +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n\n        // Handle event.target data-goto-prev attribute\n        if ( isNumber( data.gotoPrev ) && event.detail.reason === \"prev\" ) {\n            event.detail.next = steps[ data.gotoPrev ];\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.gotoPrev && event.detail.reason === \"prev\" ) {\n            var newTarget = document.getElementById( data.gotoPrev ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.gotoPrev +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n\n        // Data-goto=\"\" ///////////////////////////////////////////////////////////////////////////\n\n        // Handle event.target data-goto attribute\n        if ( isNumber( data.goto ) ) {\n            event.detail.next = steps[ data.goto ];\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.goto ) {\n            var newTarget = document.getElementById( data.goto ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.goto +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    impress.addPreStepLeavePlugin( goto );\n\n} )( document, window );\n\n\n/**\n * Help popup plugin\n *\n * Example:\n *\n *     <!-- Show a help popup at start, or if user presses \"H\" -->\n *     <div id=\"impress-help\"></div>\n *\n * For developers:\n *\n * Typical use for this plugin, is for plugins that support some keypress, to add a line\n * to the help popup produced by this plugin. For example \"P: Presenter console\".\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document */\n\n( function( document, window ) {\n    \"use strict\";\n    var rows = [];\n    var timeoutHandle;\n\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( \"CustomEvent\" );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var renderHelpDiv = function() {\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( helpDiv ) {\n            var html = [];\n            for ( var row in rows ) {\n                for ( var arrayItem in row ) {\n                    html.push( rows[ row ][ arrayItem ] );\n                }\n            }\n            if ( html ) {\n                helpDiv.innerHTML = \"<table>\\n\" + html.join( \"\\n\" ) + \"</table>\\n\";\n            }\n        }\n    };\n\n    var toggleHelp = function() {\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( !helpDiv ) {\n            return;\n        }\n\n        if ( helpDiv.style.display === \"block\" ) {\n            helpDiv.style.display = \"none\";\n        } else {\n            helpDiv.style.display = \"block\";\n            window.clearTimeout( timeoutHandle );\n        }\n    };\n\n    document.addEventListener( \"keyup\", function( event ) {\n\n        if ( event.keyCode === 72 || event.keyCode === 191 ) { // \"h\" || \"?\"\n            event.preventDefault();\n            toggleHelp();\n        }\n    }, false );\n\n    // API\n    // Other plugins can add help texts, typically if they support an action on a keypress.\n    /**\n     * Add a help text to the help popup.\n     *\n     * :param: e.detail.command  Example: \"H\"\n     * :param: e.detail.text     Example: \"Show this help.\"\n     * :param: e.detail.row      Row index from 0 to 9 where to place this help text. Example: 0\n     */\n    document.addEventListener( \"impress:help:add\", function( e ) {\n\n        // The idea is for the sender of the event to supply a unique row index, used for sorting.\n        // But just in case two plugins would ever use the same row index, we wrap each row into\n        // its own array. If there are more than one entry for the same index, they are shown in\n        // first come, first serve ordering.\n        var rowIndex = e.detail.row;\n        if ( typeof rows[ rowIndex ] !== \"object\" || !rows[ rowIndex ].isArray ) {\n            rows[ rowIndex ] = [];\n        }\n        rows[ e.detail.row ].push( \"<tr><td><strong>\" + e.detail.command + \"</strong></td><td>\" +\n                                   e.detail.text + \"</td></tr>\" );\n        renderHelpDiv();\n    } );\n\n    document.addEventListener( \"impress:init\", function( e ) {\n        renderHelpDiv();\n\n        // At start, show the help for 7 seconds.\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( helpDiv ) {\n            helpDiv.style.display = \"block\";\n            timeoutHandle = window.setTimeout( function() {\n                var helpDiv = document.getElementById( \"impress-help\" );\n                helpDiv.style.display = \"none\";\n            }, 7000 );\n\n            // Regster callback to empty the help div on teardown\n            var api = e.detail.api;\n            api.lib.gc.pushCallback( function() {\n                window.clearTimeout( timeoutHandle );\n                helpDiv.style.display = \"\";\n                helpDiv.innerHTML = \"\";\n                rows = [];\n            } );\n        }\n\n        // Use our own API to register the help text for \"h\"\n        triggerEvent( document, \"impress:help:add\",\n                      { command: \"H\", text: \"Show this help\", row: 0 } );\n    } );\n\n} )( document, window );\n\n\n/**\n * Adds a presenter console to impress.js\n *\n * MIT Licensed, see license.txt.\n *\n * Copyright 2012, 2013, 2015 impress-console contributors (see README.txt)\n *\n * version: 1.3-dev\n *\n */\n\n// This file contains so much HTML, that we will just respectfully disagree about js\n/* jshint quotmark:single */\n/* global navigator, top, setInterval, clearInterval, document, window */\n\n( function( document, window ) {\n    'use strict';\n\n    // TODO: Move this to src/lib/util.js\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( 'CustomEvent' );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    // Create Language object depending on browsers language setting\n    var lang;\n    switch ( navigator.language ) {\n    case 'de':\n        lang = {\n            'noNotes': '<div class=\"noNotes\">Keine Notizen hierzu</div>',\n            'restart': 'Neustart',\n            'clickToOpen': 'Klicken um Sprecherkonsole zu ffnen',\n            'prev': 'zurck',\n            'next': 'weiter',\n            'loading': 'initalisiere',\n            'ready': 'Bereit',\n            'moving': 'in Bewegung',\n            'useAMPM': false\n        };\n        break;\n    case 'en': // jshint ignore:line\n    default : // jshint ignore:line\n        lang = {\n            'noNotes': '<div class=\"noNotes\">No notes for this step</div>',\n            'restart': 'Restart',\n            'clickToOpen': 'Click to open speaker console',\n            'prev': 'Prev',\n            'next': 'Next',\n            'loading': 'Loading',\n            'ready': 'Ready',\n            'moving': 'Moving',\n            'useAMPM': false\n        };\n        break;\n    }\n\n    // Settings to set iframe in speaker console\n    const preViewDefaultFactor = 0.7;\n    const preViewMinimumFactor = 0.5;\n    const preViewGap    = 4;\n\n    // This is the default template for the speaker console window\n    const consoleTemplate = '<!DOCTYPE html>' +\n        '<html id=\"impressconsole\"><head>' +\n\n          // Order is important: If user provides a cssFile, those will win, because they're later\n          '{{cssStyle}}' +\n          '{{cssLink}}' +\n        '</head><body>' +\n        '<div id=\"console\">' +\n          '<div id=\"views\">' +\n            '<iframe id=\"slideView\" scrolling=\"no\"></iframe>' +\n            '<iframe id=\"preView\" scrolling=\"no\"></iframe>' +\n            '<div id=\"blocker\"></div>' +\n          '</div>' +\n          '<div id=\"notes\"></div>' +\n        '</div>' +\n        '<div id=\"controls\"> ' +\n          '<div id=\"prev\"><a  href=\"#\" onclick=\"impress().prev(); return false;\" />' +\n            '{{prev}}</a></div>' +\n          '<div id=\"next\"><a  href=\"#\" onclick=\"impress().next(); return false;\" />' +\n            '{{next}}</a></div>' +\n          '<div id=\"clock\">--:--</div>' +\n          '<div id=\"timer\" onclick=\"timerReset()\">00m 00s</div>' +\n          '<div id=\"status\">{{loading}}</div>' +\n        '</div>' +\n        '</body></html>';\n\n    // Default css location\n    var cssFileOldDefault = 'css/impressConsole.css';\n    var cssFile = undefined; // jshint ignore:line\n\n    // Css for styling iframs on the console\n    var cssFileIframeOldDefault = 'css/iframe.css';\n    var cssFileIframe = undefined; // jshint ignore:line\n\n    // All console windows, so that you can call impressConsole() repeatedly.\n    var allConsoles = {};\n\n    // Zero padding helper function:\n    var zeroPad = function( i ) {\n        return ( i < 10 ? '0' : '' ) + i;\n    };\n\n    // The console object\n    var impressConsole = window.impressConsole = function( rootId ) {\n\n        rootId = rootId || 'impress';\n\n        if ( allConsoles[ rootId ] ) {\n            return allConsoles[ rootId ];\n        }\n\n        // Root presentation elements\n        var root = document.getElementById( rootId );\n\n        var consoleWindow = null;\n\n        var nextStep = function() {\n            var classes = '';\n            var nextElement = document.querySelector( '.active' );\n\n            // Return to parents as long as there is no next sibling\n            while ( !nextElement.nextElementSibling && nextElement.parentNode ) {\n                nextElement = nextElement.parentNode;\n            }\n            nextElement = nextElement.nextElementSibling;\n            while ( nextElement ) {\n                classes = nextElement.attributes[ 'class' ];\n                if ( classes && classes.value.indexOf( 'step' ) !== -1 ) {\n                    consoleWindow.document.getElementById( 'blocker' ).innerHTML = lang.next;\n                    return nextElement;\n                }\n\n                if ( nextElement.firstElementChild ) { // First go into deep\n                    nextElement = nextElement.firstElementChild;\n                } else {\n\n                    // Go to next sibling or through parents until there is a next sibling\n                    while ( !nextElement.nextElementSibling && nextElement.parentNode ) {\n                        nextElement = nextElement.parentNode;\n                    }\n                    nextElement = nextElement.nextElementSibling;\n                }\n            }\n\n            // No next element. Pick the first\n            consoleWindow.document.getElementById( 'blocker' ).innerHTML = lang.restart;\n            return document.querySelector( '.step' );\n        };\n\n        // Sync the notes to the step\n        var onStepLeave = function() {\n            if ( consoleWindow ) {\n\n                // Set notes to next steps notes.\n                var newNotes = document.querySelector( '.active' ).querySelector( '.notes' );\n                if ( newNotes ) {\n                    newNotes = newNotes.innerHTML;\n                } else {\n                    newNotes = lang.noNotes;\n                }\n                consoleWindow.document.getElementById( 'notes' ).innerHTML = newNotes;\n\n                // Set the views\n                var baseURL = document.URL.substring( 0, document.URL.search( '#/' ) );\n                var slideSrc = baseURL + '#' + document.querySelector( '.active' ).id;\n                var preSrc = baseURL + '#' + nextStep().id;\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n\n                // Setting them when they are already set causes glithes in Firefox, so check first:\n                if ( slideView.src !== slideSrc ) {\n                    slideView.src = slideSrc;\n                }\n                var preView = consoleWindow.document.getElementById( 'preView' );\n                if ( preView.src !== preSrc ) {\n                    preView.src = preSrc;\n                }\n\n                consoleWindow.document.getElementById( 'status' ).innerHTML =\n                    '<span class=\"moving\">' + lang.moving + '</span>';\n            }\n        };\n\n        // Sync the previews to the step\n        var onStepEnter = function() {\n            if ( consoleWindow ) {\n\n                // We do everything here again, because if you stopped the previos step to\n                // early, the onstepleave trigger is not called for that step, so\n                // we need this to sync things.\n                var newNotes = document.querySelector( '.active' ).querySelector( '.notes' );\n                if ( newNotes ) {\n                    newNotes = newNotes.innerHTML;\n                } else {\n                    newNotes = lang.noNotes;\n                }\n                var notes = consoleWindow.document.getElementById( 'notes' );\n                notes.innerHTML = newNotes;\n                notes.scrollTop = 0;\n\n                // Set the views\n                var baseURL = document.URL.substring( 0, document.URL.search( '#/' ) );\n                var slideSrc = baseURL + '#' + document.querySelector( '.active' ).id;\n                var preSrc = baseURL + '#' + nextStep().id;\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n\n                // Setting them when they are already set causes glithes in Firefox, so check first:\n                if ( slideView.src !== slideSrc ) {\n                    slideView.src = slideSrc;\n                }\n                var preView = consoleWindow.document.getElementById( 'preView' );\n                if ( preView.src !== preSrc ) {\n                    preView.src = preSrc;\n                }\n\n                consoleWindow.document.getElementById( 'status' ).innerHTML =\n                    '<span  class=\"ready\">' + lang.ready + '</span>';\n            }\n        };\n\n        // Sync substeps\n        var onSubstep = function( event ) {\n            if ( consoleWindow ) {\n                if ( event.detail.reason === 'next' ) {\n                    onSubstepShow();\n                }\n                if ( event.detail.reason === 'prev' ) {\n                    onSubstepHide();\n                }\n            }\n        };\n\n        var onSubstepShow = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            triggerEventInView( slideView, 'impress:substep:show' );\n        };\n\n        var onSubstepHide = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            triggerEventInView( slideView, 'impress:substep:hide' );\n        };\n\n        var triggerEventInView = function( frame, eventName, detail ) {\n\n            // Note: Unfortunately Chrome does not allow createEvent on file:// URLs, so this won't\n            // work. This does work on Firefox, and should work if viewing the presentation on a\n            // http:// URL on Chrome.\n            var event = frame.contentDocument.createEvent( 'CustomEvent' );\n            event.initCustomEvent( eventName, true, true, detail );\n            frame.contentDocument.dispatchEvent( event );\n        };\n\n        var spaceHandler = function() {\n            var notes = consoleWindow.document.getElementById( 'notes' );\n            if ( notes.scrollTopMax - notes.scrollTop > 20 ) {\n               notes.scrollTop = notes.scrollTop + notes.clientHeight * 0.8;\n            } else {\n               window.impress().next();\n            }\n        };\n\n        var timerReset = function() {\n            consoleWindow.timerStart = new Date();\n        };\n\n        // Show a clock\n        var clockTick = function() {\n            var now = new Date();\n            var hours = now.getHours();\n            var minutes = now.getMinutes();\n            var seconds = now.getSeconds();\n            var ampm = '';\n\n            if ( lang.useAMPM ) {\n                ampm = ( hours < 12 ) ? 'AM' : 'PM';\n                hours = ( hours > 12 ) ? hours - 12 : hours;\n                hours = ( hours === 0 ) ? 12 : hours;\n            }\n\n            // Clock\n            var clockStr = zeroPad( hours ) + ':' + zeroPad( minutes ) + ':' + zeroPad( seconds ) +\n                           ' ' + ampm;\n            consoleWindow.document.getElementById( 'clock' ).firstChild.nodeValue = clockStr;\n\n            // Timer\n            seconds = Math.floor( ( now - consoleWindow.timerStart ) / 1000 );\n            minutes = Math.floor( seconds / 60 );\n            seconds = Math.floor( seconds % 60 );\n            consoleWindow.document.getElementById( 'timer' ).firstChild.nodeValue =\n                zeroPad( minutes ) + 'm ' + zeroPad( seconds ) + 's';\n\n            if ( !consoleWindow.initialized ) {\n\n                // Nudge the slide windows after load, or they will scrolled wrong on Firefox.\n                consoleWindow.document.getElementById( 'slideView' ).contentWindow.scrollTo( 0, 0 );\n                consoleWindow.document.getElementById( 'preView' ).contentWindow.scrollTo( 0, 0 );\n                consoleWindow.initialized = true;\n            }\n        };\n\n        var registerKeyEvent = function( keyCodes, handler, window ) {\n            if ( window === undefined ) {\n                window = consoleWindow;\n            }\n\n            // Prevent default keydown action when one of supported key is pressed\n            window.document.addEventListener( 'keydown', function( event ) {\n                if ( !event.ctrlKey && !event.altKey && !event.shiftKey && !event.metaKey &&\n                     keyCodes.indexOf( event.keyCode ) !== -1 ) {\n                    event.preventDefault();\n                }\n            }, false );\n\n            // Trigger impress action on keyup\n            window.document.addEventListener( 'keyup', function( event ) {\n                if ( !event.ctrlKey && !event.altKey && !event.shiftKey && !event.metaKey &&\n                     keyCodes.indexOf( event.keyCode ) !== -1 ) {\n                        handler();\n                        event.preventDefault();\n                }\n            }, false );\n        };\n\n        var consoleOnLoad = function() {\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n                var preView = consoleWindow.document.getElementById( 'preView' );\n\n                // Firefox:\n                slideView.contentDocument.body.classList.add( 'impress-console' );\n                preView.contentDocument.body.classList.add( 'impress-console' );\n                if ( cssFileIframe !== undefined ) {\n                    slideView.contentDocument.head.insertAdjacentHTML(\n                        'beforeend',\n                        '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + cssFileIframe + '\">'\n                    );\n                    preView.contentDocument.head.insertAdjacentHTML(\n                        'beforeend',\n                        '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + cssFileIframe + '\">'\n                    );\n                }\n\n                // Chrome:\n                slideView.addEventListener( 'load', function() {\n                        slideView.contentDocument.body.classList.add( 'impress-console' );\n                        if ( cssFileIframe !== undefined ) {\n                            slideView.contentDocument.head.insertAdjacentHTML(\n                                'beforeend',\n                                '<link rel=\"stylesheet\" type=\"text/css\" href=\"' +\n                                    cssFileIframe + '\">'\n                            );\n                        }\n                } );\n                preView.addEventListener( 'load', function() {\n                        preView.contentDocument.body.classList.add( 'impress-console' );\n                        if ( cssFileIframe !== undefined ) {\n                            preView.contentDocument.head.insertAdjacentHTML(\n                                'beforeend',\n                                '<link rel=\"stylesheet\" type=\"text/css\" href=\"' +\n                                    cssFileIframe + '\">' );\n                        }\n                } );\n        };\n\n        var open = function() {\n            if ( top.isconsoleWindow ) {\n                return;\n            }\n\n            if ( consoleWindow && !consoleWindow.closed ) {\n                consoleWindow.focus();\n            } else {\n                consoleWindow = window.open( '', 'impressConsole' );\n\n                // If opening failes this may be because the browser prevents this from\n                // not (or less) interactive JavaScript...\n                if ( consoleWindow == null ) {\n\n                    // ... so I add a button to klick.\n                    // workaround on firefox\n                    var message = document.createElement( 'div' );\n                    message.id = 'impress-console-button';\n                    message.style.position = 'fixed';\n                    message.style.left = 0;\n                    message.style.top = 0;\n                    message.style.right = 0;\n                    message.style.bottom = 0;\n                    message.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';\n                    var clickStr = 'var x = document.getElementById(\\'impress-console-button\\');' +\n                                     'x.parentNode.removeChild(x);' +\n                                     'var r = document.getElementById(\\'' + rootId + '\\');' +\n                                     'impress(\\'' + rootId +\n                                     '\\').lib.util.triggerEvent(r, \\'impress:console:open\\', {})';\n                    var styleStr = 'margin: 25vh 25vw;width:50vw;height:50vh;';\n                    message.innerHTML = '<button style=\"' + styleStr + '\" ' +\n                                                 'onclick=\"' + clickStr + '\">' +\n                                        lang.clickToOpen +\n                                        '</button>';\n                    document.body.appendChild( message );\n                    return;\n                }\n\n                var cssLink = '';\n                if ( cssFile !== undefined ) {\n                    cssLink = '<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"' +\n                              cssFile + '\">';\n                }\n\n                // This sets the window location to the main window location, so css can be loaded:\n                consoleWindow.document.open();\n\n                // Write the template:\n                consoleWindow.document.write(\n\n                    // CssStyleStr is lots of inline <style></style> defined at the end of this file\n                    consoleTemplate.replace( '{{cssStyle}}', cssStyleStr() )\n                                   .replace( '{{cssLink}}', cssLink )\n                                   .replace( /{{.*?}}/gi, function( x ) {\n                                       return lang[ x.substring( 2, x.length - 2 ) ]; }\n                                   )\n                );\n                consoleWindow.document.title = 'Speaker Console (' + document.title + ')';\n                consoleWindow.impress = window.impress;\n\n                // We set this flag so we can detect it later, to prevent infinite popups.\n                consoleWindow.isconsoleWindow = true;\n\n                // Set the onload function:\n                consoleWindow.onload = consoleOnLoad;\n\n                // Add clock tick\n                consoleWindow.timerStart = new Date();\n                consoleWindow.timerReset = timerReset;\n                consoleWindow.clockInterval = setInterval( allConsoles[ rootId ].clockTick, 1000 );\n\n                // Keyboard navigation handlers\n                // 33: pg up, 37: left, 38: up\n                registerKeyEvent( [ 33, 37, 38 ], window.impress().prev );\n\n                // 34: pg down, 39: right, 40: down\n                registerKeyEvent( [ 34, 39, 40 ], window.impress().next );\n\n                // 32: space\n                registerKeyEvent( [ 32 ], spaceHandler );\n\n                // 82: R\n                registerKeyEvent( [ 82 ], timerReset );\n\n                // Cleanup\n                consoleWindow.onbeforeunload = function() {\n\n                    // I don't know why onunload doesn't work here.\n                    clearInterval( consoleWindow.clockInterval );\n                };\n\n                // It will need a little nudge on Firefox, but only after loading:\n                onStepEnter();\n                consoleWindow.initialized = false;\n                consoleWindow.document.close();\n\n                //Catch any window resize to pass size on\n                window.onresize = resize;\n                consoleWindow.onresize = resize;\n\n                return consoleWindow;\n            }\n        };\n\n        var resize = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            var preView = consoleWindow.document.getElementById( 'preView' );\n\n            // Get ratio of presentation\n            var ratio = window.innerHeight / window.innerWidth;\n\n            // Get size available for views\n            var views = consoleWindow.document.getElementById( 'views' );\n\n            // SlideView may have a border or some padding:\n            // asuming same border width on both direktions\n            var delta = slideView.offsetWidth - slideView.clientWidth;\n\n            // Set views\n            var slideViewWidth = ( views.clientWidth - delta );\n            var slideViewHeight = Math.floor( slideViewWidth * ratio );\n\n            var preViewTop = slideViewHeight + preViewGap;\n\n            var preViewWidth = Math.floor( slideViewWidth * preViewDefaultFactor );\n            var preViewHeight = Math.floor( slideViewHeight * preViewDefaultFactor );\n\n            // Shrink preview to fit into space available\n            if ( views.clientHeight - delta < preViewTop + preViewHeight ) {\n                preViewHeight = views.clientHeight - delta - preViewTop;\n                preViewWidth = Math.floor( preViewHeight / ratio );\n            }\n\n            // If preview is not high enough forget ratios!\n            if ( preViewWidth <= Math.floor( slideViewWidth * preViewMinimumFactor ) ) {\n                slideViewWidth = ( views.clientWidth - delta );\n                slideViewHeight = Math.floor( ( views.clientHeight - delta - preViewGap ) /\n                                             ( 1 + preViewMinimumFactor ) );\n\n                preViewTop = slideViewHeight + preViewGap;\n\n                preViewWidth = Math.floor( slideViewWidth * preViewMinimumFactor );\n                preViewHeight = views.clientHeight - delta - preViewTop;\n            }\n\n            // Set the calculated into styles\n            slideView.style.width = slideViewWidth + 'px';\n            slideView.style.height = slideViewHeight + 'px';\n\n            preView.style.top = preViewTop + 'px';\n\n            preView.style.width = preViewWidth + 'px';\n            preView.style.height = preViewHeight + 'px';\n        };\n\n        var _init = function( cssConsole, cssIframe ) {\n            if ( cssConsole !== undefined ) {\n                cssFile = cssConsole;\n            }\n\n            // You can also specify the css in the presentation root div:\n            // <div id=\"impress\" data-console-css=...\" data-console-css-iframe=\"...\">\n            else if ( root.dataset.consoleCss !== undefined ) {\n                cssFile = root.dataset.consoleCss;\n            }\n\n            if ( cssIframe !== undefined ) {\n                cssFileIframe = cssIframe;\n            } else if ( root.dataset.consoleCssIframe !== undefined ) {\n                cssFileIframe = root.dataset.consoleCssIframe;\n            }\n\n            // Register the event\n            root.addEventListener( 'impress:stepleave', onStepLeave );\n            root.addEventListener( 'impress:stepenter', onStepEnter );\n            root.addEventListener( 'impress:substep:stepleaveaborted', onSubstep );\n            root.addEventListener( 'impress:substep:show', onSubstepShow );\n            root.addEventListener( 'impress:substep:hide', onSubstepHide );\n\n            //When the window closes, clean up after ourselves.\n            window.onunload = function() {\n                if ( consoleWindow && !consoleWindow.closed ) {\n                    consoleWindow.close();\n                }\n            };\n\n            //Open speaker console when they press 'p'\n            registerKeyEvent( [ 80 ], open, window );\n\n            //Btw, you can also launch console automatically:\n            //<div id=\"impress\" data-console-autolaunch=\"true\">\n            if ( root.dataset.consoleAutolaunch === 'true' ) {\n                open();\n            }\n        };\n\n        var init = function( cssConsole, cssIframe ) {\n            if ( ( cssConsole === undefined || cssConsole === cssFileOldDefault ) &&\n                 ( cssIframe === undefined  || cssIframe === cssFileIframeOldDefault ) ) {\n                window.console.log( 'impressConsole().init() is deprecated. ' +\n                                   'impressConsole is now initialized automatically when you ' +\n                                   'call impress().init().' );\n            }\n            _init( cssConsole, cssIframe );\n        };\n\n        // New API for impress.js plugins is based on using events\n        root.addEventListener( 'impress:console:open', function() {\n            open();\n        } );\n\n        /**\n         * Register a key code to an event handler\n         *\n         * :param: event.detail.keyCodes    List of key codes\n         * :param: event.detail.handler     A function registered as the event handler\n         * :param: event.detail.window      The console window to register the keycode in\n         */\n        root.addEventListener( 'impress:console:registerKeyEvent', function( event ) {\n            registerKeyEvent( event.detail.keyCodes, event.detail.handler, event.detail.window );\n        } );\n\n        // Return the object\n        allConsoles[ rootId ] = { init: init, open: open, clockTick: clockTick,\n                               registerKeyEvent: registerKeyEvent, _init: _init };\n        return allConsoles[ rootId ];\n\n    };\n\n    // This initializes impressConsole automatically when initializing impress itself\n    document.addEventListener( 'impress:init', function( event ) {\n\n        // Note: impressConsole wants the id string, not the DOM element directly\n        impressConsole( event.target.id )._init();\n\n        // Add 'P' to the help popup\n        triggerEvent( document, 'impress:help:add',\n                        { command: 'P', text: 'Presenter console', row: 10 } );\n    } );\n\n    // Returns a string to be used inline as a css <style> element in the console window.\n    // Apologies for length, but hiding it here at the end to keep it away from rest of the code.\n    var cssStyleStr = function() {\n        return `<style>\n            #impressconsole body {\n                background-color: rgb(255, 255, 255);\n                padding: 0;\n                margin: 0;\n                font-family: verdana, arial, sans-serif;\n                font-size: 2vw;\n            }\n\n            #impressconsole div#console {\n                position: absolute;\n                top: 0.5vw;\n                left: 0.5vw;\n                right: 0.5vw;\n                bottom: 3vw;\n                margin: 0;\n            }\n\n            #impressconsole div#views, #impressconsole div#notes {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n            }\n\n            #impressconsole div#views {\n                left: 0;\n                right: 50vw;\n                overflow: hidden;\n            }\n\n            #impressconsole div#blocker {\n                position: absolute;\n                right: 0;\n                bottom: 0;\n            }\n\n            #impressconsole div#notes {\n                left: 50vw;\n                right: 0;\n                overflow-x: hidden;\n                overflow-y: auto;\n                padding: 0.3ex;\n                background-color: rgb(255, 255, 255);\n                border: solid 1px rgb(120, 120, 120);\n            }\n\n            #impressconsole div#notes .noNotes {\n                color: rgb(200, 200, 200);\n            }\n\n            #impressconsole div#notes p {\n                margin-top: 0;\n            }\n\n            #impressconsole iframe {\n                position: absolute;\n                margin: 0;\n                padding: 0;\n                left: 0;\n                border: solid 1px rgb(120, 120, 120);\n            }\n\n            #impressconsole iframe#slideView {\n                top: 0;\n                width: 49vw;\n                height: 49vh;\n            }\n\n            #impressconsole iframe#preView {\n                opacity: 0.7;\n                top: 50vh;\n                width: 30vw;\n                height: 30vh;\n            }\n\n            #impressconsole div#controls {\n                margin: 0;\n                position: absolute;\n                bottom: 0.25vw;\n                left: 0.5vw;\n                right: 0.5vw;\n                height: 2.5vw;\n                background-color: rgb(255, 255, 255);\n                background-color: rgba(255, 255, 255, 0.6);\n            }\n\n            #impressconsole div#prev, div#next {\n            }\n\n            #impressconsole div#prev a, #impressconsole div#next a {\n                display: block;\n                border: solid 1px rgb(70, 70, 70);\n                border-radius: 0.5vw;\n                font-size: 1.5vw;\n                padding: 0.25vw;\n                text-decoration: none;\n                background-color: rgb(220, 220, 220);\n                color: rgb(0, 0, 0);\n            }\n\n            #impressconsole div#prev a:hover, #impressconsole div#next a:hover {\n                background-color: rgb(245, 245, 245);\n            }\n\n            #impressconsole div#prev {\n                float: left;\n            }\n\n            #impressconsole div#next {\n                float: right;\n            }\n\n            #impressconsole div#status {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: right;\n            }\n\n            #impressconsole div#clock {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: left;\n            }\n\n            #impressconsole div#timer {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: left;\n            }\n\n            #impressconsole span.moving {\n                color: rgb(255, 0, 0);\n            }\n\n            #impressconsole span.ready {\n                color: rgb(0, 128, 0);\n            }\n        </style>`;\n    };\n\n} )( document, window );\n\n/**\n * Media Plugin\n *\n * This plugin will do the following things:\n *\n *  - Add a special class when playing (body.impress-media-video-playing\n *    and body.impress-media-video-playing) and pausing media (body.impress-media-video-paused\n *    and body.impress-media-audio-paused) (removing them when ending).\n *    This can be useful for example for darkening the background or fading out other elements\n *    while a video is playing.\n *    Only media at the current step are taken into account. All classes are removed when leaving\n *    a step.\n *\n *  - Introduce the following new data attributes:\n *\n *    - data-media-autoplay=\"true\": Autostart media when entering its step.\n *    - data-media-autostop=\"true\": Stop media (= pause and reset to start), when leaving its\n *      step.\n *    - data-media-autopause=\"true\": Pause media but keep current time when leaving its step.\n *\n *    When these attributes are added to a step they are inherited by all media on this step.\n *    Of course this setting can be overwritten by adding different attributes to inidvidual\n *    media.\n *\n *    The same rule applies when this attributes is added to the root element. Settings can be\n *    overwritten for individual steps and media.\n *\n *    Examples:\n *    - data-media-autoplay=\"true\" data-media-autostop=\"true\": start media on enter, stop on\n *      leave, restart from beginning when re-entering the step.\n *\n *    - data-media-autoplay=\"true\" data-media-autopause=\"true\": start media on enter, pause on\n *      leave, resume on re-enter\n *\n *    - data-media-autoplay=\"true\" data-media-autostop=\"true\" data-media-autopause=\"true\": start\n *      media on enter, stop on leave (stop overwrites pause).\n *\n *    - data-media-autoplay=\"true\" data-media-autopause=\"false\": let media start automatically\n *      when entering a step and let it play when leaving the step.\n *\n *    - <div id=\"impress\" data-media-autoplay=\"true\"> ... <div class=\"step\"\n *      data-media-autoplay=\"false\">\n *      All media is startet automatically on all steps except the one that has the\n *      data-media-autoplay=\"false\" attribute.\n *\n *  - Pro tip: Use <audio onended=\"impress().next()\"> or <video onended=\"impress().next()\"> to\n *    proceed to the next step automatically, when the end of the media is reached.\n *\n *\n * Copyright 2018 Holger Teichert (@complanar)\n * Released under the MIT license.\n */\n/* global window, document */\n\n( function( document, window ) {\n    \"use strict\";\n    var root, api, gc, attributeTracker;\n\n    attributeTracker = [];\n\n    // Function names\n    var enhanceMediaNodes,\n        enhanceMedia,\n        removeMediaClasses,\n        onStepenterDetectImpressConsole,\n        onStepenter,\n        onStepleave,\n        onPlay,\n        onPause,\n        onEnded,\n        getMediaAttribute,\n        teardown;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        root = event.target;\n        api = event.detail.api;\n        gc = api.lib.gc;\n\n        enhanceMedia();\n\n        gc.pushCallback( teardown );\n    }, false );\n\n    teardown = function() {\n        var el, i;\n        removeMediaClasses();\n        for ( i = 0; i < attributeTracker.length; i += 1 ) {\n            el = attributeTracker[ i ];\n            el.node.removeAttribute( el.attr );\n        }\n        attributeTracker = [];\n    };\n\n    getMediaAttribute = function( attributeName, nodes ) {\n        var attrName, attrValue, i, node;\n        attrName = \"data-media-\" + attributeName;\n\n        // Look for attributes in all nodes\n        for ( i = 0; i < nodes.length; i += 1 ) {\n            node = nodes[ i ];\n\n            // First test, if the attribute exists, because some browsers may return\n            // an empty string for non-existing attributes - specs are not clear at that point\n            if ( node.hasAttribute( attrName ) ) {\n\n                // Attribute found, return their parsed boolean value, empty strings count as true\n                // to enable empty value booleans (common in html5 but not allowed in well formed\n                // xml).\n                attrValue = node.getAttribute( attrName );\n                if ( attrValue === \"\" || attrValue === \"true\" ) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n\n            // No attribute found at current node, proceed with next round\n        }\n\n        // Last resort: no attribute found - return undefined to distiguish from false\n        return undefined;\n    };\n\n    onPlay = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.add( \"impress-media-\" + type + \"-playing\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-paused\" );\n    };\n\n    onPause = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.add( \"impress-media-\" + type + \"-paused\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-playing\" );\n    };\n\n    onEnded = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.remove( \"impress-media-\" + type + \"-playing\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-paused\" );\n    };\n\n    removeMediaClasses = function() {\n        var type, types;\n        types = [ \"video\", \"audio\" ];\n        for ( type in types ) {\n            document.body.classList.remove( \"impress-media-\" + types[ type ] + \"-playing\" );\n            document.body.classList.remove( \"impress-media-\" + types[ type ] + \"-paused\" );\n        }\n    };\n\n    enhanceMediaNodes = function() {\n        var i, id, media, mediaElement, type;\n\n        media = root.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            type = media[ i ].nodeName.toLowerCase();\n\n            // Set an id to identify each media node - used e.g. for cross references by\n            // the consoleMedia plugin\n            mediaElement = media[ i ];\n            id = mediaElement.getAttribute( \"id\" );\n            if ( id === undefined || id === null ) {\n                mediaElement.setAttribute( \"id\", \"media-\" + type + \"-\" + i );\n                attributeTracker.push( { \"node\": mediaElement, \"attr\": \"id\" } );\n            }\n            gc.addEventListener( mediaElement, \"play\", onPlay );\n            gc.addEventListener( mediaElement, \"playing\", onPlay );\n            gc.addEventListener( mediaElement, \"pause\", onPause );\n            gc.addEventListener( mediaElement, \"ended\", onEnded );\n        }\n    };\n\n    enhanceMedia = function() {\n        var steps, stepElement, i;\n        enhanceMediaNodes();\n        steps = document.getElementsByClassName( \"step\" );\n        for ( i = 0; i < steps.length; i += 1 ) {\n            stepElement = steps[ i ];\n\n            gc.addEventListener( stepElement, \"impress:stepenter\", onStepenter );\n            gc.addEventListener( stepElement, \"impress:stepleave\", onStepleave );\n        }\n    };\n\n    onStepenterDetectImpressConsole = function() {\n        return {\n            \"preview\": ( window.frameElement !== null && window.frameElement.id === \"preView\" ),\n            \"slideView\": ( window.frameElement !== null && window.frameElement.id === \"slideView\" )\n        };\n    };\n\n    onStepenter = function( event ) {\n        var stepElement, media, mediaElement, i, onConsole, autoplay;\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        stepElement = event.target;\n        removeMediaClasses();\n\n        media = stepElement.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            mediaElement = media[ i ];\n\n            // Autoplay when (maybe inherited) autoplay setting is true,\n            // but only if not on preview of the next step in impressConsole\n            onConsole = onStepenterDetectImpressConsole();\n            autoplay = getMediaAttribute( \"autoplay\", [ mediaElement, stepElement, root ] );\n            if ( autoplay && !onConsole.preview ) {\n                if ( onConsole.slideView ) {\n                    mediaElement.muted = true;\n                }\n                mediaElement.play();\n            }\n        }\n    };\n\n    onStepleave = function( event ) {\n        var stepElement, media, i, mediaElement, autoplay, autopause, autostop;\n        if ( ( !event || !event.target ) ) {\n            return;\n        }\n\n        stepElement = event.target;\n        media = event.target.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            mediaElement = media[ i ];\n\n            autoplay = getMediaAttribute( \"autoplay\", [ mediaElement, stepElement, root ] );\n            autopause = getMediaAttribute( \"autopause\", [ mediaElement, stepElement, root ] );\n            autostop = getMediaAttribute( \"autostop\",  [ mediaElement, stepElement, root ] );\n\n            // If both autostop and autopause are undefined, set it to the value of autoplay\n            if ( autostop === undefined && autopause === undefined ) {\n                autostop = autoplay;\n            }\n\n            if ( autopause || autostop ) {\n                mediaElement.pause();\n                if ( autostop ) {\n                    mediaElement.currentTime = 0;\n                }\n            }\n        }\n        removeMediaClasses();\n    };\n\n} )( document, window );\n\n/**\n * Mobile devices support\n *\n * Allow presentation creators to hide all but 3 slides, to save resources, particularly on mobile\n * devices, using classes body.impress-mobile, .step.prev, .step.active and .step.next.\n *\n * Note: This plugin does not take into account possible redirections done with skip, goto etc\n * plugins. Basically it wouldn't work as intended in such cases, but the active step will at least\n * be correct.\n *\n * Adapted to a plugin from a submission by @Kzeni:\n * https://github.com/impress/impress.js/issues/333\n */\n/* global document, navigator */\n( function( document ) {\n    \"use strict\";\n\n    var getNextStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            if ( steps[ i ] === el ) {\n                if ( i + 1 < steps.length ) {\n                    return steps[ i + 1 ];\n                } else {\n                    return steps[ 0 ];\n                }\n            }\n        }\n    };\n    var getPrevStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = steps.length - 1; i >= 0; i-- ) {\n            if ( steps[ i ] === el ) {\n                if ( i - 1 >= 0 ) {\n                    return steps[ i - 1 ];\n                } else {\n                    return steps[ steps.length - 1 ];\n                }\n            }\n        }\n    };\n\n    // Detect mobile browsers & add CSS class as appropriate.\n    document.addEventListener( \"impress:init\", function( event ) {\n        var body = document.body;\n        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n                 navigator.userAgent\n             ) ) {\n            body.classList.add( \"impress-mobile\" );\n        }\n\n        // Unset all this on teardown\n        var api = event.detail.api;\n        api.lib.gc.pushCallback( function() {\n            document.body.classList.remove( \"impress-mobile\" );\n            var prev = document.getElementsByClassName( \"prev\" )[ 0 ];\n            var next = document.getElementsByClassName( \"next\" )[ 0 ];\n            if ( typeof prev !== \"undefined\" ) {\n                prev.classList.remove( \"prev\" );\n            }\n            if ( typeof next !== \"undefined\" ) {\n                next.classList.remove( \"next\" );\n            }\n        } );\n    } );\n\n    // Add prev and next classes to the siblings of the newly entered active step element\n    // Remove prev and next classes from their current step elements\n    // Note: As an exception we break namespacing rules, as these are useful general purpose\n    // classes. (Naming rules would require us to use css classes mobile-next and mobile-prev,\n    // based on plugin name.)\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n\t      var oldprev = document.getElementsByClassName( \"prev\" )[ 0 ];\n\t      var oldnext = document.getElementsByClassName( \"next\" )[ 0 ];\n\n\t      var prev = getPrevStep( event.target );\n\t      prev.classList.add( \"prev\" );\n\t      var next = getNextStep( event.target );\n\t      next.classList.add( \"next\" );\n\n\t      if ( typeof oldprev !== \"undefined\" ) {\n\t\t      oldprev.classList.remove( \"prev\" );\n              }\n\t      if ( typeof oldnext !== \"undefined\" ) {\n\t\t      oldnext.classList.remove( \"next\" );\n              }\n    } );\n} )( document );\n\n\n/**\n * Mouse timeout plugin\n *\n * After 3 seconds of mouse inactivity, add the css class\n * `body.impress-mouse-timeout`. On `mousemove`, `click` or `touch`, remove the\n * class.\n *\n * The use case for this plugin is to use CSS to hide elements from the screen\n * and only make them visible when the mouse is moved. Examples where this\n * might be used are: the toolbar from the toolbar plugin, and the mouse cursor\n * itself.\n *\n * Example CSS:\n *\n *     body.impress-mouse-timeout {\n *         cursor: none;\n *     }\n *     body.impress-mouse-timeout div#impress-toolbar {\n *         display: none;\n *     }\n *\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document */\n( function( document, window ) {\n    \"use strict\";\n    var timeout = 3;\n    var timeoutHandle;\n\n    var hide = function() {\n\n        // Mouse is now inactive\n        document.body.classList.add( \"impress-mouse-timeout\" );\n    };\n\n    var show = function() {\n        if ( timeoutHandle ) {\n            window.clearTimeout( timeoutHandle );\n        }\n\n        // Mouse is now active\n        document.body.classList.remove( \"impress-mouse-timeout\" );\n\n        // Then set new timeout after which it is considered inactive again\n        timeoutHandle = window.setTimeout( hide, timeout * 1000 );\n    };\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n        var gc = api.lib.gc;\n        gc.addEventListener( document, \"mousemove\", show );\n        gc.addEventListener( document, \"click\", show );\n        gc.addEventListener( document, \"touch\", show );\n\n        // Set first timeout\n        show();\n\n        // Unset all this on teardown\n        gc.pushCallback( function() {\n            window.clearTimeout( timeoutHandle );\n            document.body.classList.remove( \"impress-mouse-timeout\" );\n        } );\n    }, false );\n\n} )( document, window );\n\n/**\n * Navigation events plugin\n *\n * As you can see this part is separate from the impress.js core code.\n * It's because these navigation actions only need what impress.js provides with\n * its simple API.\n *\n * This plugin is what we call an _init plugin_. It's a simple kind of\n * impress.js plugin. When loaded, it starts listening to the `impress:init`\n * event. That event listener initializes the plugin functionality - in this\n * case we listen to some keypress and mouse events. The only dependencies on\n * core impress.js functionality is the `impress:init` method, as well as using\n * the public api `next(), prev(),` etc when keys are pressed.\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Released under the MIT license.\n * ------------------------------------------------\n *  author:  Bartek Szopka\n *  version: 0.5.3\n *  url:     http://bartaz.github.com/impress.js/\n *  source:  http://github.com/bartaz/impress.js/\n *\n */\n/* global document */\n( function( document ) {\n    \"use strict\";\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n\n        // Getting API from event data.\n        // So you don't event need to know what is the id of the root element\n        // or anything. `impress:init` event data gives you everything you\n        // need to control the presentation that was just initialized.\n        var api = event.detail.api;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        // Supported keys are:\n        // [space] - quite common in presentation software to move forward\n        // [up] [right] / [down] [left] - again common and natural addition,\n        // [pgdown] / [pgup] - often triggered by remote controllers,\n        // [tab] - this one is quite controversial, but the reason it ended up on\n        //   this list is quite an interesting story... Remember that strange part\n        //   in the impress.js code where window is scrolled to 0,0 on every presentation\n        //   step, because sometimes browser scrolls viewport because of the focused element?\n        //   Well, the [tab] key by default navigates around focusable elements, so clicking\n        //   it very often caused scrolling to focused element and breaking impress.js\n        //   positioning. I didn't want to just prevent this default action, so I used [tab]\n        //   as another way to moving to next step... And yes, I know that for the sake of\n        //   consistency I should add [shift+tab] as opposite action...\n        var isNavigationEvent = function( event ) {\n\n            // Don't trigger navigation for example when user returns to browser window with ALT+TAB\n            if ( event.altKey || event.ctrlKey || event.metaKey ) {\n                return false;\n            }\n\n            // In the case of TAB, we force step navigation always, overriding the browser\n            // navigation between input elements, buttons and links.\n            if ( event.keyCode === 9 ) {\n                return true;\n            }\n\n            // With the sole exception of TAB, we also ignore keys pressed if shift is down.\n            if ( event.shiftKey ) {\n                return false;\n            }\n\n            if ( ( event.keyCode >= 32 && event.keyCode <= 34 ) ||\n                 ( event.keyCode >= 37 && event.keyCode <= 40 ) ) {\n                return true;\n            }\n        };\n\n        // KEYBOARD NAVIGATION HANDLERS\n\n        // Prevent default keydown action when one of supported key is pressed.\n        gc.addEventListener( document, \"keydown\", function( event ) {\n            if ( isNavigationEvent( event ) ) {\n                event.preventDefault();\n            }\n        }, false );\n\n        // Trigger impress action (next or prev) on keyup.\n        gc.addEventListener( document, \"keyup\", function( event ) {\n            if ( isNavigationEvent( event ) ) {\n                if ( event.shiftKey ) {\n                    switch ( event.keyCode ) {\n                        case 9: // Shift+tab\n                            api.prev();\n                            break;\n                    }\n                } else {\n                    switch ( event.keyCode ) {\n                        case 33: // Pg up\n                        case 37: // Left\n                        case 38: // Up\n                                 api.prev( event );\n                                 break;\n                        case 9:  // Tab\n                        case 32: // Space\n                        case 34: // Pg down\n                        case 39: // Right\n                        case 40: // Down\n                                 api.next( event );\n                                 break;\n                    }\n                }\n                event.preventDefault();\n            }\n        }, false );\n\n        // Delegated handler for clicking on the links to presentation steps\n        gc.addEventListener( document, \"click\", function( event ) {\n\n            // Event delegation with \"bubbling\"\n            // check if event target (or any of its parents is a link)\n            var target = event.target;\n            try {\n                while ( ( target.tagName !== \"A\" ) &&\n                        ( target !== document.documentElement ) ) {\n                    target = target.parentNode;\n                }\n\n                if ( target.tagName === \"A\" ) {\n                    var href = target.getAttribute( \"href\" );\n\n                    // If it's a link to presentation step, target this step\n                    if ( href && href[ 0 ] === \"#\" ) {\n                        target = document.getElementById( href.slice( 1 ) );\n                    }\n                }\n\n                if ( api.goto( target ) ) {\n                    event.stopImmediatePropagation();\n                    event.preventDefault();\n                }\n            }\n            catch ( err ) {\n\n                // For example, when clicking on the button to launch speaker console, the button\n                // is immediately deleted from the DOM. In this case target is a DOM element when\n                // we get it, but turns out to be null if you try to actually do anything with it.\n                if ( err instanceof TypeError &&\n                     err.message === \"target is null\" ) {\n                    return;\n                }\n                throw err;\n            }\n        }, false );\n\n        // Delegated handler for clicking on step elements\n        gc.addEventListener( document, \"click\", function( event ) {\n            var target = event.target;\n            try {\n\n                // Find closest step element that is not active\n                while ( !( target.classList.contains( \"step\" ) &&\n                        !target.classList.contains( \"active\" ) ) &&\n                        ( target !== document.documentElement ) ) {\n                    target = target.parentNode;\n                }\n\n                if ( api.goto( target ) ) {\n                    event.preventDefault();\n                }\n            }\n            catch ( err ) {\n\n                // For example, when clicking on the button to launch speaker console, the button\n                // is immediately deleted from the DOM. In this case target is a DOM element when\n                // we get it, but turns out to be null if you try to actually do anything with it.\n                if ( err instanceof TypeError &&\n                     err.message === \"target is null\" ) {\n                    return;\n                }\n                throw err;\n            }\n        }, false );\n\n        // Add a line to the help popup\n        util.triggerEvent( document, \"impress:help:add\", { command: \"Left &amp; Right\",\n                                                           text: \"Previous &amp; Next step\",\n                                                           row: 1 } );\n\n    }, false );\n\n} )( document );\n\n\n/**\n * Navigation UI plugin\n *\n * This plugin provides UI elements \"back\", \"forward\" and a list to select\n * a specific slide number.\n *\n * The navigation controls are added to the toolbar plugin via DOM events. User must enable the\n * toolbar in a presentation to have them visible.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n// This file contains so much HTML, that we will just respectfully disagree about js\n/* jshint quotmark:single */\n/* global document */\n\n( function( document ) {\n    'use strict';\n    var toolbar;\n    var api;\n    var root;\n    var steps;\n    var hideSteps = [];\n    var prev;\n    var select;\n    var next;\n\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( 'CustomEvent' );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var makeDomElement = function( html ) {\n        var tempDiv = document.createElement( 'div' );\n        tempDiv.innerHTML = html;\n        return tempDiv.firstChild;\n    };\n\n    var selectOptionsHtml = function() {\n        var options = '';\n        for ( var i = 0; i < steps.length; i++ ) {\n\n            // Omit steps that are listed as hidden from select widget\n            if ( hideSteps.indexOf( steps[ i ] ) < 0 ) {\n                options = options + '<option value=\"' + steps[ i ].id + '\">' + // jshint ignore:line\n                                    steps[ i ].id + '</option>' + '\\n'; // jshint ignore:line\n            }\n        }\n        return options;\n    };\n\n    var addNavigationControls = function( event ) {\n        api = event.detail.api;\n        var gc = api.lib.gc;\n        root = event.target;\n        steps = root.querySelectorAll( '.step' );\n\n        var prevHtml   = '<button id=\"impress-navigation-ui-prev\" title=\"Previous\" ' +\n                         'class=\"impress-navigation-ui\">&lt;</button>';\n        var selectHtml = '<select id=\"impress-navigation-ui-select\" title=\"Go to\" ' +\n                         'class=\"impress-navigation-ui\">' + '\\n' +\n                           selectOptionsHtml() +\n                           '</select>';\n        var nextHtml   = '<button id=\"impress-navigation-ui-next\" title=\"Next\" ' +\n                         'class=\"impress-navigation-ui\">&gt;</button>';\n\n        prev = makeDomElement( prevHtml );\n        prev.addEventListener( 'click',\n            function() {\n                api.prev();\n        } );\n        select = makeDomElement( selectHtml );\n        select.addEventListener( 'change',\n            function( event ) {\n                api.goto( event.target.value );\n        } );\n        gc.addEventListener( root, 'impress:steprefresh', function( event ) {\n\n            // As impress.js core now allows to dynamically edit the steps, including adding,\n            // removing, and reordering steps, we need to requery and redraw the select list on\n            // every stepenter event.\n            steps = root.querySelectorAll( '.step' );\n            select.innerHTML = '\\n' + selectOptionsHtml();\n\n            // Make sure the list always shows the step we're actually on, even if it wasn't\n            // selected from the list\n            select.value = event.target.id;\n        } );\n        next = makeDomElement( nextHtml );\n        next.addEventListener( 'click',\n            function() {\n                api.next();\n        } );\n\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: prev } );\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: select } );\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: next } );\n\n    };\n\n    // API for not listing given step in the select widget.\n    // For example, if you set class=\"skip\" on some element, you may not want it to show up in the\n    // list either. Otoh we cannot assume that, or anything else, so steps that user wants omitted\n    // must be specifically added with this API call.\n    document.addEventListener( 'impress:navigation-ui:hideStep', function( event ) {\n        hideSteps.push( event.target );\n        if ( select ) {\n            select.innerHTML = selectOptionsHtml();\n        }\n    }, false );\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( 'impress:init', function( event ) {\n        toolbar = document.querySelector( '#impress-toolbar' );\n        if ( toolbar ) {\n            addNavigationControls( event );\n        }\n    }, false );\n\n} )( document );\n\n\n/* global document */\n( function( document ) {\n    \"use strict\";\n    var root;\n    var stepids = [];\n\n    // Get stepids from the steps under impress root\n    var getSteps = function() {\n        stepids = [];\n        var steps = root.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ )\n        {\n          stepids[ i + 1 ] = steps[ i ].id;\n        }\n        };\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n            root = event.target;\n        getSteps();\n        var gc = event.detail.api.lib.gc;\n        gc.pushCallback( function() {\n            stepids = [];\n            if ( progressbar ) {\n                progressbar.style.width = \"\";\n                        }\n            if ( progress ) {\n                progress.innerHTML = \"\";\n                        }\n        } );\n    } );\n\n    var progressbar = document.querySelector( \"div.impress-progressbar div\" );\n    var progress = document.querySelector( \"div.impress-progress\" );\n\n    if ( null !== progressbar || null !== progress ) {\n        document.addEventListener( \"impress:stepleave\", function( event ) {\n            updateProgressbar( event.detail.next.id );\n        } );\n\n        document.addEventListener( \"impress:steprefresh\", function( event ) {\n            getSteps();\n            updateProgressbar( event.target.id );\n        } );\n\n    }\n\n    function updateProgressbar( slideId ) {\n        var slideNumber = stepids.indexOf( slideId );\n        if ( null !== progressbar ) {\n                        var width = 100 / ( stepids.length - 1 ) * ( slideNumber );\n            progressbar.style.width = width.toFixed( 2 ) + \"%\";\n        }\n        if ( null !== progress ) {\n            progress.innerHTML = slideNumber + \"/\" + ( stepids.length - 1 );\n        }\n    }\n} )( document );\n\n/**\n * Relative Positioning Plugin\n *\n * This plugin provides support for defining the coordinates of a step relative\n * to the previous step. This is often more convenient when creating presentations,\n * since as you add, remove or move steps, you may not need to edit the positions\n * as much as is the case with the absolute coordinates supported by impress.js\n * core.\n *\n * Example:\n *\n *         <!-- Position step 1000 px to the right and 500 px up from the previous step. -->\n *         <div class=\"step\" data-rel-x=\"1000\" data-rel-y=\"500\">\n *\n * Following html attributes are supported for step elements:\n *\n *     data-rel-x\n *     data-rel-y\n *     data-rel-z\n *\n * These values are also inherited from the previous step. This makes it easy to\n * create a boring presentation where each slide shifts for example 1000px down\n * from the previous.\n *\n * In addition to plain numbers, which are pixel values, it is also possible to\n * define relative positions as a multiple of screen height and width, using\n * a unit of \"h\" and \"w\", respectively, appended to the number.\n *\n * Example:\n *\n *        <div class=\"step\" data-rel-x=\"1.5w\" data-rel-y=\"1.5h\">\n *\n * This plugin is a *pre-init plugin*. It is called synchronously from impress.js\n * core at the beginning of `impress().init()`. This allows it to process its own\n * data attributes first, and possibly alter the data-x, data-y and data-z attributes\n * that will then be processed by `impress().init()`.\n *\n * (Another name for this kind of plugin might be called a *filter plugin*, but\n * *pre-init plugin* is more generic, as a plugin might do whatever it wants in\n * the pre-init stage.)\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    var startingState = {};\n\n    /**\n     * Copied from core impress.js. We currently lack a library mechanism to\n     * to share utility functions like this.\n     */\n    var toNumber = function( numeric, fallback ) {\n        return isNaN( numeric ) ? ( fallback || 0 ) : Number( numeric );\n    };\n\n    /**\n     * Extends toNumber() to correctly compute also relative-to-screen-size values 5w and 5h.\n     *\n     * Returns the computed value in pixels with w/h postfix removed.\n     */\n    var toNumberAdvanced = function( numeric, fallback ) {\n        if ( typeof numeric !== \"string\" ) {\n            return toNumber( numeric, fallback );\n        }\n        var ratio = numeric.match( /^([+-]*[\\d\\.]+)([wh])$/ );\n        if ( ratio == null ) {\n            return toNumber( numeric, fallback );\n        } else {\n            var value = parseFloat( ratio[ 1 ] );\n            var multiplier = ratio[ 2 ] === \"w\" ? window.innerWidth : window.innerHeight;\n            return value * multiplier;\n        }\n    };\n\n    var computeRelativePositions = function( el, prev ) {\n        var data = el.dataset;\n\n        if ( !prev ) {\n\n            // For the first step, inherit these defaults\n            prev = { x:0, y:0, z:0, relative: { x:0, y:0, z:0 } };\n        }\n\n        if ( data.relTo ) {\n\n            var ref = document.getElementById( data.relTo );\n            if ( ref ) {\n\n                // Test, if it is a previous step that already has some assigned position data\n                if ( el.compareDocumentPosition( ref ) & Node.DOCUMENT_POSITION_PRECEDING ) {\n                    prev.x = toNumber( ref.getAttribute( \"data-x\" ) );\n                    prev.y = toNumber( ref.getAttribute( \"data-y\" ) );\n                    prev.z = toNumber( ref.getAttribute( \"data-z\" ) );\n                    prev.relative = {};\n                } else {\n                    window.console.error(\n                        \"impress.js rel plugin: Step \\\"\" + data.relTo + \"\\\" is not defined \" +\n                        \"*before* the current step. Referencing is limited to previously defined \" +\n                        \"steps. Please check your markup. Ignoring data-rel-to attribute of \" +\n                        \"this step. Have a look at the documentation for how to create relative \" +\n                        \"positioning to later shown steps with the help of the goto plugin.\"\n                    );\n                }\n            } else {\n\n                // Step not found\n                window.console.warn(\n                    \"impress.js rel plugin: \\\"\" + data.relTo + \"\\\" is not a valid step in this \" +\n                    \"impress.js presentation. Please check your markup. Ignoring data-rel-to \" +\n                    \"attribute of this step.\"\n                );\n            }\n        }\n\n        var step = {\n                x: toNumber( data.x, prev.x ),\n                y: toNumber( data.y, prev.y ),\n                z: toNumber( data.z, prev.z ),\n                relative: {\n                    x: toNumberAdvanced( data.relX, prev.relative.x ),\n                    y: toNumberAdvanced( data.relY, prev.relative.y ),\n                    z: toNumberAdvanced( data.relZ, prev.relative.z )\n                }\n            };\n\n        // Relative position is ignored/zero if absolute is given.\n        // Note that this also has the effect of resetting any inherited relative values.\n        if ( data.x !== undefined ) {\n            step.relative.x = 0;\n        }\n        if ( data.y !== undefined ) {\n            step.relative.y = 0;\n        }\n        if ( data.z !== undefined ) {\n            step.relative.z = 0;\n        }\n\n        // Apply relative position to absolute position, if non-zero\n        // Note that at this point, the relative values contain a number value of pixels.\n        step.x = step.x + step.relative.x;\n        step.y = step.y + step.relative.y;\n        step.z = step.z + step.relative.z;\n\n        return step;\n    };\n\n    var rel = function( root ) {\n        var steps = root.querySelectorAll( \".step\" );\n        var prev;\n        startingState[ root.id ] = [];\n        for ( var i = 0; i < steps.length; i++ ) {\n            var el = steps[ i ];\n            startingState[ root.id ].push( {\n                el: el,\n                x: el.getAttribute( \"data-x\" ),\n                y: el.getAttribute( \"data-y\" ),\n                z: el.getAttribute( \"data-z\" ),\n                relX: el.getAttribute( \"data-rel-x\" ),\n                relY: el.getAttribute( \"data-rel-y\" ),\n                relZ: el.getAttribute( \"data-rel-z\" )\n            } );\n            var step = computeRelativePositions( el, prev );\n\n            // Apply relative position (if non-zero)\n            el.setAttribute( \"data-x\", step.x );\n            el.setAttribute( \"data-y\", step.y );\n            el.setAttribute( \"data-z\", step.z );\n            prev = step;\n        }\n    };\n\n    // Register the plugin to be called in pre-init phase\n    window.impress.addPreInitPlugin( rel );\n\n    // Register teardown callback to reset the data.x, .y, .z values.\n    document.addEventListener( \"impress:init\", function( event ) {\n        var root = event.target;\n        event.detail.api.lib.gc.pushCallback( function() {\n            var steps = startingState[ root.id ];\n            var step;\n            while ( step = steps.pop() ) {\n\n                // Reset x/y/z in cases where this plugin has changed it.\n                if ( step.relX !== null ) {\n                    if ( step.x === null ) {\n                        step.el.removeAttribute( \"data-x\" );\n                    } else {\n                        step.el.setAttribute( \"data-x\", step.x );\n                    }\n                }\n                if ( step.relY !== null ) {\n                    if ( step.y === null ) {\n                        step.el.removeAttribute( \"data-y\" );\n                    } else {\n                        step.el.setAttribute( \"data-y\", step.y );\n                    }\n                }\n                if ( step.relZ !== null ) {\n                    if ( step.z === null ) {\n                        step.el.removeAttribute( \"data-z\" );\n                    } else {\n                        step.el.setAttribute( \"data-z\", step.z );\n                    }\n                }\n            }\n            delete startingState[ root.id ];\n        } );\n    }, false );\n} )( document, window );\n\n\n/**\n * Resize plugin\n *\n * Rescale the presentation after a window resize.\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Released under the MIT license.\n * ------------------------------------------------\n *  author:  Bartek Szopka\n *  version: 0.5.3\n *  url:     http://bartaz.github.com/impress.js/\n *  source:  http://github.com/bartaz/impress.js/\n *\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n\n        // Rescale presentation when window is resized\n        api.lib.gc.addEventListener( window, \"resize\", api.lib.util.throttle( function() {\n\n            // Force going to active step again, to trigger rescaling\n            api.goto( document.querySelector( \".step.active\" ), 500 );\n        }, 250 ), false );\n    }, false );\n\n} )( document, window );\n\n\n/**\n * Skip Plugin\n *\n * Example:\n *\n *    <!-- This slide is disabled in presentations, when moving with next()\n *         and prev() commands, but you can still move directly to it, for\n *         example with a url (anything using goto()). -->\n *         <div class=\"step skip\">\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n    var util;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        util = event.detail.api.lib.util;\n    }, false );\n\n    var getNextStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            if ( steps[ i ] === el ) {\n                if ( i + 1 < steps.length ) {\n                    return steps[ i + 1 ];\n                } else {\n                    return steps[ 0 ];\n                }\n            }\n        }\n    };\n    var getPrevStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = steps.length - 1; i >= 0; i-- ) {\n            if ( steps[ i ] === el ) {\n                if ( i - 1 >= 0 ) {\n                    return steps[ i - 1 ];\n                } else {\n                    return steps[ steps.length - 1 ];\n                }\n            }\n        }\n    };\n\n    var skip = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        if ( event.detail.next.classList.contains( \"skip\" ) ) {\n            if ( event.detail.reason === \"next\" ) {\n\n                // Go to the next next step instead\n                event.detail.next = getNextStep( event.detail.next );\n\n                // Recursively call this plugin again, until there's a step not to skip\n                skip( event );\n            } else if ( event.detail.reason === \"prev\" ) {\n\n                // Go to the previous previous step instead\n                event.detail.next = getPrevStep( event.detail.next );\n                skip( event );\n            }\n\n            // If the new next element has its own transitionDuration, we're responsible for setting\n            // that on the event as well\n            event.detail.transitionDuration = util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    // The weight makes this plugin run early. This is a good thing, because this plugin calls\n    // itself recursively.\n    window.impress.addPreStepLeavePlugin( skip, 1 );\n\n} )( document, window );\n\n\n/**\n * Stop Plugin\n *\n * Example:\n *\n *        <!-- Stop at this slide.\n *             (For example, when used on the last slide, this prevents the\n *             presentation from wrapping back to the beginning.) -->\n *        <div class=\"step stop\">\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global document, window */\n( function( document, window ) {\n    \"use strict\";\n\n    var stop = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        if ( event.target.classList.contains( \"stop\" ) ) {\n            if ( event.detail.reason === \"next\" ) {\n                return false;\n            }\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    // The weight makes this plugin run fairly early.\n    window.impress.addPreStepLeavePlugin( stop, 2 );\n\n} )( document, window );\n\n\n/**\n * Substep Plugin\n *\n * Copyright 2017 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    // Copied from core impress.js. Good candidate for moving to src/lib/util.js.\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( \"CustomEvent\" );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var activeStep = null;\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        activeStep = event.target;\n    }, false );\n\n    var substep = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        var step = event.target;\n        var el; // Needed by jshint\n        if ( event.detail.reason === \"next\" ) {\n            el = showSubstepIfAny( step );\n            if ( el ) {\n\n                // Send a message to others, that we aborted a stepleave event.\n                triggerEvent( step, \"impress:substep:stepleaveaborted\",\n                              { reason: \"next\", substep: el } );\n\n                // Autoplay uses this for reloading itself\n                triggerEvent( step, \"impress:substep:enter\",\n                              { reason: \"next\", substep: el } );\n\n                // Returning false aborts the stepleave event\n                return false;\n            }\n        }\n        if ( event.detail.reason === \"prev\" ) {\n            el = hideSubstepIfAny( step );\n            if ( el ) {\n                triggerEvent( step, \"impress:substep:stepleaveaborted\",\n                              { reason: \"prev\", substep: el } );\n\n                triggerEvent( step, \"impress:substep:leave\",\n                              { reason: \"prev\", substep: el } );\n\n                return false;\n            }\n        }\n    };\n\n    var showSubstepIfAny = function( step ) {\n        var substeps = step.querySelectorAll( \".substep\" );\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        if ( substeps.length > 0 ) {\n            return showSubstep( substeps, visible );\n        }\n    };\n\n    var showSubstep = function( substeps, visible ) {\n        if ( visible.length < substeps.length ) {\n            for ( var i = 0; i < substeps.length; i++ ) {\n                substeps[ i ].classList.remove( \"substep-active\" );\n            }\n            var el = substeps[ visible.length ];\n            el.classList.add( \"substep-visible\" );\n            el.classList.add( \"substep-active\" );\n            return el;\n        }\n    };\n\n    var hideSubstepIfAny = function( step ) {\n        var substeps = step.querySelectorAll( \".substep\" );\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        if ( substeps.length > 0 ) {\n            return hideSubstep( visible );\n        }\n    };\n\n    var hideSubstep = function( visible ) {\n        if ( visible.length > 0 ) {\n            var current = -1;\n            for ( var i = 0; i < visible.length; i++ ) {\n                if ( visible[ i ].classList.contains( \"substep-active\" ) ) {\n                    current = i;\n                }\n                visible[ i ].classList.remove( \"substep-active\" );\n            }\n            if ( current > 0 ) {\n                visible[ current - 1 ].classList.add( \"substep-active\" );\n            }\n            var el = visible[ visible.length - 1 ];\n            el.classList.remove( \"substep-visible\" );\n            return el;\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase.\n    // The weight makes this plugin run before other preStepLeave plugins.\n    window.impress.addPreStepLeavePlugin( substep, 1 );\n\n    // When entering a step, in particular when re-entering, make sure that all substeps are hidden\n    // at first\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        var step = event.target;\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        for ( var i = 0; i < visible.length; i++ ) {\n            visible[ i ].classList.remove( \"substep-visible\" );\n        }\n    }, false );\n\n    // API for others to reveal/hide next substep ////////////////////////////////////////////////\n    document.addEventListener( \"impress:substep:show\", function() {\n        showSubstepIfAny( activeStep );\n    }, false );\n\n    document.addEventListener( \"impress:substep:hide\", function() {\n        hideSubstepIfAny( activeStep );\n    }, false );\n\n} )( document, window );\n\n/**\n * Support for swipe and tap on touch devices\n *\n * This plugin implements navigation for plugin devices, via swiping left/right,\n * or tapping on the left/right edges of the screen.\n *\n *\n *\n * Copyright 2015: Andrew Dunai (@and3rson)\n * Modified to a plugin, 2016: Henrik Ingo (@henrikingo)\n *\n * MIT License\n */\n/* global document, window */\n( function( document, window ) {\n    \"use strict\";\n\n    // Touch handler to detect swiping left and right based on window size.\n    // If the difference in X change is bigger than 1/20 of the screen width,\n    // we simply call an appropriate API function to complete the transition.\n    var startX = 0;\n    var lastX = 0;\n    var lastDX = 0;\n    var threshold = window.innerWidth / 20;\n\n    document.addEventListener( \"touchstart\", function( event ) {\n        lastX = startX = event.touches[ 0 ].clientX;\n    } );\n\n    document.addEventListener( \"touchmove\", function( event ) {\n         var x = event.touches[ 0 ].clientX;\n         var diff = x - startX;\n\n         // To be used in touchend\n         lastDX = lastX - x;\n         lastX = x;\n\n         window.impress().swipe( diff / window.innerWidth );\n     } );\n\n     document.addEventListener( \"touchend\", function() {\n         var totalDiff = lastX - startX;\n         if ( Math.abs( totalDiff ) > window.innerWidth / 5 && ( totalDiff * lastDX ) <= 0 ) {\n             if ( totalDiff > window.innerWidth / 5 && lastDX <= 0 ) {\n                 window.impress().prev();\n             } else if ( totalDiff < -window.innerWidth / 5 && lastDX >= 0 ) {\n                 window.impress().next();\n             }\n         } else if ( Math.abs( lastDX ) > threshold ) {\n             if ( lastDX < -threshold ) {\n                 window.impress().prev();\n             } else if ( lastDX > threshold ) {\n                 window.impress().next();\n             }\n         } else {\n\n             // No movement - move (back) to the current slide\n             window.impress().goto( document.querySelector( \"#impress .step.active\" ) );\n         }\n     } );\n\n     document.addEventListener( \"touchcancel\", function() {\n\n             // Move (back) to the current slide\n             window.impress().goto( document.querySelector( \"#impress .step.active\" ) );\n     } );\n\n} )( document, window );\n\n/**\n * Toolbar plugin\n *\n * This plugin provides a generic graphical toolbar. Other plugins that\n * want to expose a button or other widget, can add those to this toolbar.\n *\n * Using a single consolidated toolbar for all GUI widgets makes it easier\n * to position and style the toolbar rather than having to do that for lots\n * of different divs.\n *\n *\n * *** For presentation authors: *****************************************\n *\n * To add/activate the toolbar in your presentation, add this div:\n *\n *     <div id=\"impress-toolbar\"></div>\n *\n * Styling the toolbar is left to presentation author. Here's an example CSS:\n *\n *    .impress-enabled div#impress-toolbar {\n *        position: fixed;\n *        right: 1px;\n *        bottom: 1px;\n *        opacity: 0.6;\n *    }\n *    .impress-enabled div#impress-toolbar > span {\n *        margin-right: 10px;\n *    }\n *\n * The [mouse-timeout](../mouse-timeout/README.md) plugin can be leveraged to hide\n * the toolbar from sight, and only make it visible when mouse is moved.\n *\n *    body.impress-mouse-timeout div#impress-toolbar {\n *        display: none;\n *    }\n *\n *\n * *** For plugin authors **********************************************\n *\n * To add a button to the toolbar, trigger the `impress:toolbar:appendChild`\n * or `impress:toolbar:insertBefore` events as appropriate. The detail object\n * should contain following parameters:\n *\n *    { group : 1,                       // integer. Widgets with the same group are grouped inside\n *                                       // the same <span> element.\n *      html : \"<button>Click</button>\", // The html to add.\n *      callback : \"mycallback\",         // Toolbar plugin will trigger event\n *                                       // `impress:toolbar:added:mycallback` when done.\n *      before: element }                // The reference element for an insertBefore() call.\n *\n * You should also listen to the `impress:toolbar:added:mycallback` event. At\n * this point you can find the new widget in the DOM, and for example add an\n * event listener to it.\n *\n * You are free to use any integer for the group. It's ok to leave gaps. It's\n * ok to co-locate with widgets for another plugin, if you think they belong\n * together.\n *\n * See navigation-ui for an example.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n    var toolbar = document.getElementById( \"impress-toolbar\" );\n    var groups = [];\n\n    /**\n     * Get the span element that is a child of toolbar, identified by index.\n     *\n     * If span element doesn't exist yet, it is created.\n     *\n     * Note: Because of Run-to-completion, this is not a race condition.\n     * https://developer.mozilla.org/en/docs/Web/JavaScript/EventLoop#Run-to-completion\n     *\n     * :param: index   Method will return the element <span id=\"impress-toolbar-group-{index}\">\n     */\n    var getGroupElement = function( index ) {\n        var id = \"impress-toolbar-group-\" + index;\n        if ( !groups[ index ] ) {\n            groups[ index ] = document.createElement( \"span\" );\n            groups[ index ].id = id;\n            var nextIndex = getNextGroupIndex( index );\n            if ( nextIndex === undefined ) {\n                toolbar.appendChild( groups[ index ] );\n            } else {\n                toolbar.insertBefore( groups[ index ], groups[ nextIndex ] );\n            }\n        }\n        return groups[ index ];\n    };\n\n    /**\n     * Get the span element from groups[] that is immediately after given index.\n     *\n     * This can be used to find the reference node for an insertBefore() call.\n     * If no element exists at a larger index, returns undefined. (In this case,\n     * you'd use appendChild() instead.)\n     *\n     * Note that index needn't itself exist in groups[].\n     */\n    var getNextGroupIndex = function( index ) {\n        var i = index + 1;\n        while ( !groups[ i ] && i < groups.length ) {\n            i++;\n        }\n        if ( i < groups.length ) {\n            return i;\n        }\n    };\n\n    // API\n    // Other plugins can add and remove buttons by sending them as events.\n    // In return, toolbar plugin will trigger events when button was added.\n    if ( toolbar ) {\n        /**\n         * Append a widget inside toolbar span element identified by given group index.\n         *\n         * :param: e.detail.group    integer specifying the span element where widget will be placed\n         * :param: e.detail.element  a dom element to add to the toolbar\n         */\n        toolbar.addEventListener( \"impress:toolbar:appendChild\", function( e ) {\n            var group = getGroupElement( e.detail.group );\n            group.appendChild( e.detail.element );\n        } );\n\n        /**\n         * Add a widget to toolbar using insertBefore() DOM method.\n         *\n         * :param: e.detail.before   the reference dom element, before which new element is added\n         * :param: e.detail.element  a dom element to add to the toolbar\n         */\n        toolbar.addEventListener( \"impress:toolbar:insertBefore\", function( e ) {\n            toolbar.insertBefore( e.detail.element, e.detail.before );\n        } );\n\n        /**\n         * Remove the widget in e.detail.remove.\n         */\n        toolbar.addEventListener( \"impress:toolbar:removeWidget\", function( e ) {\n            toolbar.removeChild( e.detail.remove );\n        } );\n\n        document.addEventListener( \"impress:init\", function( event ) {\n            var api = event.detail.api;\n            api.lib.gc.pushCallback( function() {\n                toolbar.innerHTML = \"\";\n                groups = [];\n            } );\n        } );\n    } // If toolbar\n\n} )( document );\n","import { annotate } from \"rough-notation\"\nimport \"alpinejs\"\nimport \"impress.js\"\nimport \"bulma/css/bulma.css\"\nimport \"animate.css\"\n\nconst alpineScope = {\n  dropdown() {\n    return {\n      init() {\n        console.log(\"mounted\")\n        impress().init()\n      },\n      show: false,\n      open() {\n        this.show = true\n        const e = document.querySelector(\".v4.cover .text-intro.fadeInUp mark\")\n        const annotation = annotate(e, {\n          type: \"highlight\",\n          color: \"#00990099\",\n        })\n        annotation.show()\n      },\n      close() {\n        this.show = false\n      },\n      isOpen() {\n        return this.show === true\n      },\n    }\n  },\n}\n\nwindow.alpineScope = alpineScope\n"],"names":["e","constructor","t","this","seed","next","Math","imul","random","s","i","n","type","ops","c","length","push","o","l","increment","rx","ry","h","r","f","disableMultiStroke","concat","estimatedPoints","opset","sqrt","PI","pow","max","curveStepCount","abs","curveFitting","a","randomizer","roughness","disableMultiStrokeFill","u","maxRandomnessOffset","g","d","p","bowing","_","m","w","v","op","data","curveTightness","cos","sin","stroke","strokeWidth","fillStyle","fillWeight","hachureAngle","hachureGap","dashOffset","dashGap","zigzagOffset","combineNestedSvgPaths","padding","Array","isArray","animate","iterations","y","x","brackets","floor","trim","setAttribute","document","createElementNS","color","getTotalLength","appendChild","style","strokeDashoffset","strokeDasharray","animation","_state","_resizing","_seed","_lastSizes","_animationDelay","_resizeListener","setTimeout","haveRectsChanged","show","_e","_config","JSON","parse","stringify","attach","animationDuration","refresh","parentElement","window","__rno_kf_s","createElement","textContent","head","_svg","position","top","left","overflow","pointerEvents","width","height","insertAdjacentElement","getComputedStyle","attachListeners","detachListeners","removeEventListener","_ro","unobserve","addEventListener","passive","ResizeObserver","contentRect","observe","rects","isSameRect","round","isShowing","pendingRefresh","Promise","resolve","then","hide","render","lastChild","removeChild","remove","forEach","multiline","getClientRects","svgRect","getBoundingClientRect","global","factory","$a5992d384265348cc6576f7098b2160f$exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","arguments","source","getOwnPropertyDescriptors","defineProperties","arrayUnique","array","from","Set","isTesting","navigator","userAgent","includes","warnIfMalformedTemplate","el","directive","tagName","toLowerCase","console","warn","content","childElementCount","camelCase","subject","replace","match","char","toUpperCase","debounce","func","wait","timeout","context","args","later","clearTimeout","saferEval","expression","dataContext","additionalHelperVariables","call","Function","values","xAttrRE","isXAttr","attr","name","replaceAtAndColonWithStandardSyntax","test","getXAttrs","component","directives","attributes","map","parseHtmlAttribute","spreadDirective","spreadObject","$data","entries","directiveOrder","sort","b","typeA","indexOf","typeB","sortDirectives","normalizedName","typeMatch","valueMatch","modifiers","startsWith","convertClassStringToArray","classList","filterFn","Boolean","split","transitionIn","forceSkip","__x_transition","attrs","showAttr","settingBothSidesOfTransition","index","showCallback","styleValues","duration","modifierValue","origin","first","opacity","scale","second","transitionHelper","transitionHelperIn","some","ensureStringExpression","evaluateReturnExpression","enter","find","enterStart","enterEnd","transitionClasses","transitionClassesIn","transitionOut","hideCallback","transitionHelperOut","leave","leaveStart","leaveEnd","transitionClassesOut","fallback","rawValue","isNumeric","join","hook1","hook2","cancelAnimationFrame","nextFrame","callback","opacityCache","transformCache","transform","transformOriginCache","transformOrigin","noModifiers","transitionOpacity","transitionScale","stages","start","during","transitionProperty","transitionDuration","transitionTimingFunction","end","cleanup","transition","classesDuring","classesStart","classesEnd","originalClasses","__x_original_classes","add","once","isConnected","requestAnimationFrame","Number","isNaN","called","handleForDirective","templateEl","initialUpdate","extraVars","iteratorNames","parseForExpression","items","ifAttribute","evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement","currentEl","item","iterationScopeVariables","scopeVariables","collection","getIterationScopeVariables","currentKey","bindKeyAttribute","generateKeyForIteration","nextEl","__x_for_key","tmpNextEl","insertBefore","nextElementSibling","undefined","lookAheadForMatchingKeyedElementAndMoveItIfFound","__x_for","updateElements","clone","importNode","addElementInLoopAfterCurrentEl","initializeElements","nextElementFromOldLoop","nextElementFromOldLoopImmutable","nextSibling","removeAnyLeftOverElementsFromPreviousUpdate","forIteratorRE","inMatch","res","iteratorMatch","handleAttributeBindingDirective","attrName","attrType","Alpine","ignoreFocusedForValueBinding","activeElement","isSameNode","checked","val","arrayWrappedValue","options","option","selected","text","updateSelect","classNames","className","newClasses","removeAttribute","isBooleanAttr","setIfChanged","getAttribute","registerListener","event","handler","contains","offsetWidth","offsetHeight","runListenerHandler","listenerTarget","body","isKeyEvent","keyModifiers","debounceIndex","splice","keyToModifier","selectedSystemKeyModifiers","modifier","isListeningForASpecificKeyThatHasntBeenPressed","preventDefault","stopPropagation","nextModifier","evaluateCommandExpression","$event","generateModelAssignmentFunction","hasAttribute","currentValue","CustomEvent","detail","newValue","safeParseNumber","multiple","selectedOptions","number","parseFloat","getPrototypeOf","create","ObjectCreate","ObjectDefineProperty","ObjectDefineProperties","isExtensible","getOwnPropertyNames","preventExtensions","hasOwnProperty","ArrayPush","ArrayConcat","ArrayMap","prototype","isUndefined","isFunction","proxyToValueMap","WeakMap","registerProxy","proxy","set","unwrap","replicaOrAny","get","wrapValue","membrane","valueIsObservable","getProxy","lockShadowTarget","shadowTarget","originalTarget","descriptor","wrapDescriptor","ReactiveProxyHandler","valueObserved","valueMutated","deleteProperty","thisArg","argArray","construct","newTarget","has","shadowIsExtensible","targetIsExtensible","setPrototypeOf","desc","shadowDescriptor","originalDescriptor","unwrapDescriptor","wrapReadOnlyValue","getReadOnlyProxy","ReadOnlyHandler","createShadowTarget","ObjectDotPrototype","defaultValueIsObservable","proto","defaultValueObserved","defaultValueMutated","defaultValueDistortion","getValue","unwrapProxy","ReactiveMembrane","valueDistortion","objectGraph","unwrappedValue","distorted","getReactiveState","readOnly","reactive","distortedValue","reactiveState","reactiveHandler","Proxy","readOnlyHandler","Component","componentForClone","$el","dataAttr","dataExpression","initExpression","dataExtras","canonicalComponentElementReference","magicProperties","unobservedData","getUnobservedData","wrapDataInObservable","initReturnedCallback","$refs","getRefsProxy","nextTickStack","$nextTick","watchers","$watch","property","showDirectiveStack","showDirectiveLastElement","onBeforeComponentInitializeds","pauseReactivity","listenForNewElementsToInitialize","onComponentInitializeds","observable","unwrappedData","copy","unwrap$1","self","updateDom","mutationCallback","wrap","fullDotNotationKey","dotNotationParts","reduce","comparisonData","part","is","walkAndSkipNestedComponents","initializeComponentCallback","walk","node","firstElementChild","__x","rootEl","__x_inserted_me","initializeElement","executeAndClearRemainingShowDirectiveStack","executeAndClearNextTickStack","registerListeners","resolveBoundAttributes","updateElement","shift","reverse","thing","finish","nestedPromise","promise","rightSideOfExpression","registerModelListener","output","innerText","handleTextDirective","innerHTML","handleHtmlDirective","display","removeProperty","handle","handleShowDirective","expressionResult","elementHasAlreadyBeenAdded","handleIfDirective","$dispatch","getDispatchFunction","AsyncFunction","async","methodReference","saferEvalNoReturn","dispatchEvent","bubbles","targetNode","MutationObserver","mutations","closestParentComponent","closest","attributeName","rawData","addedNodes","nodeType","matches","childList","subtree","ref","version","pauseMutationObserver","readyState","discoverComponents","initializeComponent","discoverUninitializedComponents","listenForNewUninitializedComponentsAtRunTime","querySelectorAll","rootEls","querySelector","error","newEl","addMagicProperty","onComponentInitialized","onBeforeComponentInitialized","deferLoadingAlpine","lib","prefixes","memory","pfx","prop","ucProp","charAt","substr","props","validateOrder","order","validChars","returnStr","css","pkey","translate","z","rotate","revert","axes","computeWindowScale","config","hScale","innerHeight","wScale","innerWidth","maxScale","minScale","impressSupported","dataset","roots","preInitPlugins","preStepLeavePlugins","defaults","empty","impress","rootId","init","goto","prev","swipe","tear","initLibraries","stepsData","activeStep","currentState","steps","windowScale","root","util","byId","canvas","initialized","lastEntered","initStep","idx","step","toNumber","rotateX","rotateY","rotateZ","rotateOrder","id","transformStyle","initAllSteps","$$","stepEnterTimeout","reason","origEvent","getStep","scrollTo","execPreStepLeavePlugins","zoomin","delay","currentStep","nextStep","targetScale","triggerEvent","perspective","transitionDelay","onStepEnter","interpolate","k","gc","lastHash","location","hash","getElementFromHash","execPreInitPlugins","meta","$","parentNode","rootData","arrayify","childNodes","documentElement","rootStyles","api","pct","nextElement","nextScale","interpolatedStep","teardown","supported","libraryFactories","addLibraryFactory","libname","addPreInitPlugin","plugin","weight","parseInt","thisLevel","j","addPreStepLeavePlugin","rootsCount","startingState","elementList","eventListenerList","callbackList","recordStartingState","pushElement","element","pushEventListener","listenerFunction","listener","pushCallback","resetStartingState","parent","getElementById","impressNotSupported","metas","activeId","pop","canvasHTML","firstChild","slice","selector","throttle","fn","timer","numeric","eventName","createEvent","initCustomEvent","getUrlParamValue","parameter","chunk","search","autoplayDefault","currentStepTimeout","timeoutHandle","autoplay","toolbar","addToolbarButton","status","reloadTimeout","setAutoplayTimeout","setButtonText","toolbarButton","getButtonText","buttonWidth","buttonHeight","html","tempDiv","makeDomElement","group","blackedOut","removeBlackout","blackout","keyCode","markdown","markdownDivs","dialect","markdownDialect","slides","toHTML","newElement","cloneNode","hljs","initHighlightingOnLoad","mermaid","initialize","startOnLoad","elements","blur","elem","code","fullscreenElement","requestFullscreen","exitFullscreen","command","row","isNumber","gotoKeyList","gotoNextList","keylist","nextlist","log","gotoNext","gotoPrev","rows","renderHelpDiv","helpDiv","arrayItem","rowIndex","lang","language","noNotes","restart","clickToOpen","loading","ready","moving","useAMPM","consoleTemplate","cssFile","cssFileIframe","allConsoles","zeroPad","impressConsole","consoleWindow","classes","onStepLeave","newNotes","baseURL","URL","substring","slideSrc","preSrc","slideView","src","preView","notes","scrollTop","onSubstep","onSubstepShow","onSubstepHide","triggerEventInView","frame","contentDocument","spaceHandler","scrollTopMax","clientHeight","timerReset","timerStart","Date","registerKeyEvent","keyCodes","ctrlKey","altKey","shiftKey","metaKey","consoleOnLoad","insertAdjacentHTML","open","isconsoleWindow","closed","message","right","bottom","backgroundColor","clickStr","cssLink","write","cssStyleStr","title","onload","clockInterval","setInterval","clockTick","onbeforeunload","clearInterval","close","onresize","resize","focus","ratio","views","delta","clientWidth","slideViewWidth","slideViewHeight","preViewTop","preViewWidth","preViewHeight","_init","cssConsole","cssIframe","consoleCss","consoleCssIframe","onunload","consoleAutolaunch","now","hours","getHours","minutes","getMinutes","seconds","getSeconds","ampm","clockStr","nodeValue","contentWindow","attributeTracker","enhanceMediaNodes","enhanceMedia","removeMediaClasses","onStepenterDetectImpressConsole","onStepenter","onStepleave","onPlay","onPause","onEnded","getMediaAttribute","nodes","attrValue","nodeName","types","media","mediaElement","stepElement","getElementsByClassName","preview","frameElement","onConsole","muted","play","autopause","autostop","pause","currentTime","oldprev","oldnext","getPrevStep","getNextStep","isNavigationEvent","href","stopImmediatePropagation","err","TypeError","select","hideSteps","selectOptionsHtml","selectHtml","addNavigationControls","stepids","getSteps","progressbar","progress","updateProgressbar","slideId","slideNumber","toFixed","toNumberAdvanced","computeRelativePositions","relative","relTo","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","relX","relY","relZ","skip","showSubstepIfAny","substeps","visible","showSubstep","hideSubstepIfAny","hideSubstep","current","substep","startX","lastX","lastDX","threshold","touches","clientX","diff","totalDiff","groups","getNextGroupIndex","nextIndex","getGroupElement","before","alpineScope","dropdown","$dfbb02bb6667624dbdf83f51f56f2ed8$export$annotate","isOpen"],"version":3,"file":"schedler.co.HASH_REF_bd6ce89c719f917071cbd4373cec0df9.js.map"}