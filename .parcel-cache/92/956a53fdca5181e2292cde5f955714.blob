"use strict";

var _roughNotation = require("rough-notation");

var _storybook = _interopRequireDefault(require("./storybook"));

require("alpinejs");

require("impress.js");

require("bulma/css/bulma.css");

require("animate.css");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//
const app = {
  data() {
    return {
      showImprint: false,
      api: undefined,
      storybook: _storybook.default,
      window: {
        width: 0,
        height: 0
      },

      //
      init() {
        console.log("mounted");
        this.api = impress();
        document.body.addEventListener("impress:init", this.stepInit);
        document.body.addEventListener("impress:stepenter", this.stepEnter);
        document.body.addEventListener("impress:stepleave", this.stepLeave);
        document.body.addEventListener("impress:steprefresh", this.stepRefresh); // let alpine run and after that init impress

        setTimeout(this.api.init, 10);
      },

      stepInit(event) {
        console.log("impress:stepinit", event);
      },

      stepLeave(event) {
        console.log("impress:stepleave", event);
      },

      stepEnter(event) {
        console.log("impress:stepenter", event);
      },

      stepRefresh(event) {
        console.log("impress:steprefresh", event);
      },

      open() {
        this.showImprint = true;
        const e = document.querySelector(" mark");
        const annotation = (0, _roughNotation.annotate)(e, {
          type: "highlight",
          color: "#00990099"
        });
        annotation.show();
      },

      close() {
        this.showImprint = false;
      },

      isOpen() {
        return this.showImprint === true;
      }

    };
  }

};
window.app = app;